{"config":{"indexing":"full","lang":["en","ja"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"\u7f51\u7edc\u5b89\u5168","title":"0. \u7f51\u7edc\u5b89\u5168"},{"location":"#_1","text":"","title":"\u7f51\u7edc\u5b89\u5168"},{"location":"1-SSL%20%E5%8E%9F%E7%90%86%E6%A6%82%E8%BF%B0/","text":"1 SSL \u539f\u7406\u6982\u8ff0","title":"1. ssl \u539f\u7406\u6982\u8ff0"},{"location":"1-SSL%20%E5%8E%9F%E7%90%86%E6%A6%82%E8%BF%B0/#1-ssl","text":"","title":"1 SSL \u539f\u7406\u6982\u8ff0"},{"location":"1-SSL%20%E5%8E%9F%E7%90%86%E6%A6%82%E8%BF%B0/0-%E9%9D%9E%E5%AF%B9%E7%A7%B0%E5%8A%A0%E5%AF%86/","text":"1 \u975e\u5bf9\u79f0\u52a0\u5bc6\u4e0e\u6570\u5b57\u7b7e\u540d \u975e\u5bf9\u79f0\u52a0\u5bc6 \u5728\u975e\u5bf9\u79f0\u52a0\u5bc6\u4e2d\u6709\u4e0d\u540c\u7684\u5bc6\u94a5\uff1a\u79c1\u94a5(private key)\u548c\u516c\u94a5(public key)\u3002 \u5982\u679c A \u548c B \u8fdb\u884c\u901a\u4fe1\uff0cA \u9700\u8981\u521b\u5efa\u4e24\u4e2a\u5bc6\u94a5\uff1a\u4e00\u4e2a\u79c1\u94a5\u548c\u4e00\u4e2a\u516c\u94a5\uff0cA \u628a\u516c\u94a5\u5206\u53d1\u7ed9\u793e\u533a\uff0c\u516c\u94a5\u4e0d\u9700\u8981\u4fdd\u5bc6(\u4f46\u9700\u8981\u63d0\u4f9b\u8eab\u4efd\u9a8c\u8bc1\u548c\u6570\u636e\u5b8c\u6574\u6027\uff0c\u9632\u6b62\u4ed6\u4eba\u5192\u5145 A)\u3002B \u5411 A \u53d1\u9001\u4fe1\u606f\u65f6\u4f7f\u7528 A \u7684\u516c\u94a5\u52a0\u5bc6\u660e\u6587\uff0cA \u6536\u5230\u4fe1\u606f\u540e\u53ef\u7528\u81ea\u5df1\u7684\u5bc6\u94a5\u89e3\u5bc6\u3002 \u4f7f\u7528 PA \u8868\u793a A \u7684\u516c\u94a5\uff0c\u4f7f\u7528 SA \u8868\u793a A \u7684\u79c1\u94a5\uff0cM \u8868\u793a\u4fe1\u606f\uff0cC \u8868\u793a\u5bc6\u6587\uff0c\u03c3 \u8868\u793a\u6570\u636e\u7b7e\u540d\uff0c\u5219\u4fe1\u606f\u7684\u4f20\u9012\u65b9\u5f0f\u4e3a\uff1a B \u4e0d\u5b89\u5168\u4fe1\u9053[\u4f20\u8f93C=PA(M)] A M -----> [B\u4f7f\u7528PA\u52a0\u5bc6] ========================================> [A\u4f7f\u7528SA\u89e3\u5bc6] -----> M=SA(C) \u6570\u5b57\u7b7e\u540d \u6570\u5b57\u7b7e\u540d\u7528\u4e8e\u9a8c\u8bc1\u6d88\u606f\u53d1\u9001\u8005\u4fe1\u606f\uff0c\u5f53A\u5411B\u53d1\u9001\u6d88\u606f\u662f\uff0cB\u9700\u8981\u68c0\u67e5\u53d1\u9001\u8005(A)\u7684\u8eab\u4efd\uff0c\u8fd9\u65f6A\u53ef\u4ee5\u7528\u81ea\u5df1\u7684\u79c1\u94a5\u8fdb\u884c\u7b7e\u540d\uff0cB\u53ef\u7528A\u7684\u516c\u94a5\u8fdb\u884c\u9a8c\u8bc1\u3002 A B ----> [A\u4f7f\u7528SA\u7b7e\u540d] ---- ----> [B\u4f7f\u7528PA\u9a8c\u8bc1\u03c3] ------ | | | | | | | v | | | [\u5224\u65adM\u662f\u5426\u7b49\u4e8ePA(\u03c3)] --> \u63a5\u53d7? | | | ^ | v \u4e0d\u5b89\u5168\u4fe1\u9053[\u4f20\u8f93(M, \u03c3=SA(M))] | | M-----------[\u4f20\u8f93M]----------> ================================> -------------[\u4f20\u8f93M]--------- Signature = Sign(Message, sa) Verify(Message, Signature, pa) = True/False","title":"1 \u975e\u5bf9\u79f0\u52a0\u5bc6\u4e0e\u6570\u5b57\u7b7e\u540d"},{"location":"1-SSL%20%E5%8E%9F%E7%90%86%E6%A6%82%E8%BF%B0/0-%E9%9D%9E%E5%AF%B9%E7%A7%B0%E5%8A%A0%E5%AF%86/#1","text":"","title":"1 \u975e\u5bf9\u79f0\u52a0\u5bc6\u4e0e\u6570\u5b57\u7b7e\u540d"},{"location":"1-SSL%20%E5%8E%9F%E7%90%86%E6%A6%82%E8%BF%B0/0-%E9%9D%9E%E5%AF%B9%E7%A7%B0%E5%8A%A0%E5%AF%86/#_1","text":"\u5728\u975e\u5bf9\u79f0\u52a0\u5bc6\u4e2d\u6709\u4e0d\u540c\u7684\u5bc6\u94a5\uff1a\u79c1\u94a5(private key)\u548c\u516c\u94a5(public key)\u3002 \u5982\u679c A \u548c B \u8fdb\u884c\u901a\u4fe1\uff0cA \u9700\u8981\u521b\u5efa\u4e24\u4e2a\u5bc6\u94a5\uff1a\u4e00\u4e2a\u79c1\u94a5\u548c\u4e00\u4e2a\u516c\u94a5\uff0cA \u628a\u516c\u94a5\u5206\u53d1\u7ed9\u793e\u533a\uff0c\u516c\u94a5\u4e0d\u9700\u8981\u4fdd\u5bc6(\u4f46\u9700\u8981\u63d0\u4f9b\u8eab\u4efd\u9a8c\u8bc1\u548c\u6570\u636e\u5b8c\u6574\u6027\uff0c\u9632\u6b62\u4ed6\u4eba\u5192\u5145 A)\u3002B \u5411 A \u53d1\u9001\u4fe1\u606f\u65f6\u4f7f\u7528 A \u7684\u516c\u94a5\u52a0\u5bc6\u660e\u6587\uff0cA \u6536\u5230\u4fe1\u606f\u540e\u53ef\u7528\u81ea\u5df1\u7684\u5bc6\u94a5\u89e3\u5bc6\u3002 \u4f7f\u7528 PA \u8868\u793a A \u7684\u516c\u94a5\uff0c\u4f7f\u7528 SA \u8868\u793a A \u7684\u79c1\u94a5\uff0cM \u8868\u793a\u4fe1\u606f\uff0cC \u8868\u793a\u5bc6\u6587\uff0c\u03c3 \u8868\u793a\u6570\u636e\u7b7e\u540d\uff0c\u5219\u4fe1\u606f\u7684\u4f20\u9012\u65b9\u5f0f\u4e3a\uff1a B \u4e0d\u5b89\u5168\u4fe1\u9053[\u4f20\u8f93C=PA(M)] A M -----> [B\u4f7f\u7528PA\u52a0\u5bc6] ========================================> [A\u4f7f\u7528SA\u89e3\u5bc6] -----> M=SA(C)","title":"\u975e\u5bf9\u79f0\u52a0\u5bc6"},{"location":"1-SSL%20%E5%8E%9F%E7%90%86%E6%A6%82%E8%BF%B0/0-%E9%9D%9E%E5%AF%B9%E7%A7%B0%E5%8A%A0%E5%AF%86/#_2","text":"\u6570\u5b57\u7b7e\u540d\u7528\u4e8e\u9a8c\u8bc1\u6d88\u606f\u53d1\u9001\u8005\u4fe1\u606f\uff0c\u5f53A\u5411B\u53d1\u9001\u6d88\u606f\u662f\uff0cB\u9700\u8981\u68c0\u67e5\u53d1\u9001\u8005(A)\u7684\u8eab\u4efd\uff0c\u8fd9\u65f6A\u53ef\u4ee5\u7528\u81ea\u5df1\u7684\u79c1\u94a5\u8fdb\u884c\u7b7e\u540d\uff0cB\u53ef\u7528A\u7684\u516c\u94a5\u8fdb\u884c\u9a8c\u8bc1\u3002 A B ----> [A\u4f7f\u7528SA\u7b7e\u540d] ---- ----> [B\u4f7f\u7528PA\u9a8c\u8bc1\u03c3] ------ | | | | | | | v | | | [\u5224\u65adM\u662f\u5426\u7b49\u4e8ePA(\u03c3)] --> \u63a5\u53d7? | | | ^ | v \u4e0d\u5b89\u5168\u4fe1\u9053[\u4f20\u8f93(M, \u03c3=SA(M))] | | M-----------[\u4f20\u8f93M]----------> ================================> -------------[\u4f20\u8f93M]--------- Signature = Sign(Message, sa) Verify(Message, Signature, pa) = True/False","title":"\u6570\u5b57\u7b7e\u540d"},{"location":"1-SSL%20%E5%8E%9F%E7%90%86%E6%A6%82%E8%BF%B0/1-%E9%9D%9E%E5%AF%B9%E7%A7%B0%E5%8A%A0%E5%AF%86/","text":"1.1 \u975e\u5bf9\u79f0\u52a0\u5bc6\u4e0e\u6570\u5b57\u7b7e\u540d \u516c\u94a5\uff0c\u79c1\u94a5 \u975e\u5bf9\u79f0\u52a0\u5bc6\u4f53\u7cfb\u4f1a\u7528\u5230 2 \u628a\u5bc6\u94a5\uff1a \u79c1\u94a5 \u4e0e\u5bf9\u5e94\u7684 \u516c\u94a5 \uff0c \u79c1\u94a5 \u7531\u6301\u6709\u4eba\u81ea\u5df1\u4fdd\u5b58\uff0c\u4e0d\u80fd\u6cc4\u9732\uff0c\u4f46 \u516c\u94a5 \u5bf9\u5916\u516c\u5f00\u3002 \u8fd9\u4e00\u5bf9 \u79c1\u94a5 \u548c \u516c\u94a5 \u7684\u5177\u6709\u4ee5\u4e0b\u7279\u6027\uff1a \u516c\u94a5\u548c\u79c1\u94a5\u4e00\u4e00\u5bf9\u5e94\uff0c\u6709\u4e00\u628a\u516c\u94a5\u5c31\u5fc5\u7136\u6709\u4e00\u628a\u4e0e\u4e4b\u5bf9\u5e94\u7684\u3001\u72ec\u4e00\u65e0\u4e8c\u7684\u79c1\u94a5\uff0c\u53cd\u4e4b\u4ea6\u6210\u7acb \u540c\u65f6\u751f\u6210\u516c\u94a5\u548c\u79c1\u94a5\u76f8\u5bf9\u6bd4\u8f83\u5bb9\u6613\uff0c\u4f46\u662f\u4ece\u516c\u94a5\u63a8\u7b97\u51fa\u79c1\u94a5\uff0c\u5fc5\u987b\u662f\u5f88\u56f0\u96be\u6216\u8005\u662f\u4e0d\u53ef\u80fd\u7684 \u6240\u6709\u7684\u79d8\u94a5\u5bf9\uff08\u516c\u94a5, \u79c1\u94a5\uff09\u90fd\u662f\u4e0d\u540c\u7684 \u7ecf \u516c\u94a5 \u52a0\u5bc6\u7684\u4fe1\u606f\uff0c\u53ea\u80fd\u901a\u8fc7\u5bf9\u5e94\u7684 \u79c1\u94a5 \u89e3\u5bc6\uff0c\u53cd\u4e4b\u4ea6\u6210\u7acb \u516c\u94a5\u3001\u79c1\u94a5\u7684\u7279\u6027\u662f\u7531\u975e\u5bf9\u79f0\u52a0\u5bc6\u7b97\u6cd5\u4fdd\u8bc1\u7684\uff0c\u5e38\u7528\u7684\u975e\u5bf9\u79f0\u52a0\u5bc6\u7b97\u6cd5\u6709 RSA, Elgamal, ECC \u7b49\u3002 \u6839\u636e\u516c\u79c1\u94a5\u7684\u7279\u6027(\u5c24\u5176\u662f\u5bf9\u7b2c 4 \u4e2a\u7279\u6027\u7684\u5e94\u7528)\uff0c\u53ef\u4ee5\u5ef6\u4f38\u51fa 2 \u79cd\u7528\u9014\uff1a \u7528\u9014 1\uff1a\u4fe1\u606f\u52a0\u5bc6 \u5982\u679c\u6709\u4eba\u60f3\u7ed9\u6211\u53d1\u4fe1\u606f\uff0c\u4f46\u662f\u4e0d\u60f3\u8ba9\u9664\u6211\u4e4b\u5916\u7684\u5176\u4ed6\u4eba\u77e5\u9053\u8fd9\u4e2a\u4fe1\u606f\uff0c\u53ef\u4ee5\u5728\u53d1\u9001\u4e4b\u524d\u7528\u6211\u7684\u516c\u94a5\u52a0\u5bc6\u4fe1\u606f\uff0c\u7136\u540e\u518d\u53d1\u9001\u52a0\u5bc6\u540e\u7684\u4fe1\u606f\u3002\u8fd9\u6837\u6bcf\u4e2a\u6301\u6709\u6211\u516c\u94a5\u7684\u4eba\u90fd\u53ef\u4ee5\u5411\u6211\u53d1\u9001\u52a0\u5bc6\u7684\u4fe1\u606f\uff0c\u53ea\u6709\u6301\u6709\u79c1\u94a5\u7684\u6211\u624d\u80fd\u89e3\u5bc6\u4fe1\u606f\uff0c\u5176\u4ed6\u4eba\u5373\u4f7f\u62e6\u622a\u5230\u52a0\u5bc6\u7684\u4fe1\u606f\u4e5f\u65e0\u6cd5\u89e3\u5bc6\u3002 \u7528\u9014 2\uff1a\u6570\u5b57\u7b7e\u540d \u79c1\u94a5 \u53ef\u4ee5\u5bf9\u4fe1\u606f\u751f\u6210\u6570\u5b57\u7b7e\u540d\uff0c \u516c\u94a5 \u53ef\u4ee5\u9a8c\u8bc1\u7b7e\u540d\uff0c\u4ece\u800c\u786e\u5b9a\uff1a \u8fd9\u4e2a\u7b7e\u540d\u662f\u516c\u94a5\u5bf9\u5e94\u7684\u79c1\u94a5\u751f\u6210\u7684\uff0c\u4e14\u65e0\u6cd5\u5426\u8ba4 \u7b7e\u540d\u5bf9\u5e94\u7684\u4fe1\u606f\u6ca1\u6709\u88ab\u7be1\u6539 \u5982\u679c\u6211\u6709\u5bf9\u5916\u53d1\u5e03\u4fe1\u606f\u7684\u9700\u6c42\uff0c\u540c\u65f6\u65e2\u4e0d\u60f3\u8ba9\u4efb\u4f55\u4eba\u5192\u5145\u6211\u53d1\u5e03\u865a\u5047\u4fe1\u606f\uff0c\u4e5f\u4e0d\u60f3\u8ba9\u4efb\u4f55\u4eba\u7be1\u6539\u6211\u53d1\u5e03\u7684\u4fe1\u606f\uff0c\u53ef\u4ee5\u5728\u53d1\u5e03\u4fe1\u606f\u4e4b\u524d\u7528\u6211\u7684\u79c1\u94a5\u5bf9\u4fe1\u606f\u8fdb\u884c\u6570\u5b57\u7b7e\u540d\uff0c\u5177\u4f53\u64cd\u4f5c\u4e3a\uff1a \u4f7f\u7528 hash \u51fd\u6570\uff08\u5982 MD5, SHA \u7b49\uff09\u751f\u6210\u4fe1\u606f\u7684 \u6458\u8981 (digest) \u4f7f\u7528\u6211\u7684\u79c1\u94a5\u5bf9 \u6458\u8981 \u8fdb\u884c\u52a0\u5bc6\uff0c\u5373\u751f\u6210 \u7b7e\u540d (signature) \u5c06 \u7b7e\u540d \u9644\u5e26\u5728\u4fe1\u606f\u4e2d\u4e00\u8d77\u53d1\u5e03 \u8fd9\u6837\u6301\u6709\u6211\u7684\u516c\u94a5\u7684\u4eba\u6536\u5230\u4fe1\u606f\u540e\uff0c\u53ef\u4ee5\u901a\u8fc7 \u7b7e\u540d \u68c0\u67e5\u4fe1\u606f\u662f\u5426\u662f\u7531\u6211\u53d1\u5e03\u7684\uff0c\u5e76\u4e14\u53ef\u4ee5\u68c0\u67e5\u4fe1\u606f\u5185\u5bb9\u662f\u5426\u88ab\u7be1\u6539\uff0c\u5177\u4f53\u64cd\u4f5c\u4e3a\uff1a \u7528\u6211\u7684\u516c\u94a5\u5bf9 \u7b7e\u540d (signature) \u8fdb\u884c\u89e3\u5bc6\uff0c\u5f97\u5230 \u6458\u8981 (digest)\u3002\u5982\u679c\u53ef\u4ee5\u89e3\u5bc6\uff0c\u5c31\u8bc1\u660e \u7b7e\u540d \u662f\u6211\u7684\u79c1\u94a5\u751f\u6210\u7684\uff0c\u8fdb\u800c\u8bc1\u660e\u4fe1\u606f\u786e\u5b9e\u662f\u6211\u53d1\u5e03\u7684\uff0c\u5e76\u4e14\u6211\u65e0\u6cd5\u5426\u8ba4 \u4f7f\u7528 hash \u51fd\u6570\u751f\u6210\u4fe1\u606f\u7684 \u6458\u8981 \uff0c\u4e0e\u89e3\u5bc6\u5f97\u5230\u7684 \u6458\u8981 \u8fdb\u884c\u5bf9\u6bd4\uff0c\u5982\u679c\u6458\u8981\u76f8\u540c\uff0c\u5219\u8bc1\u660e\u4fe1\u606f\u5185\u5bb9\u6ca1\u6709\u88ab\u7be1\u6539 \u65b0\u7684\u95ee\u9898 \u975e\u5bf9\u79f0\u52a0\u5bc6\u4f53\u7cfb\u4f9d\u8d56 2 \u4e2a\u524d\u63d0\uff1a \u6240\u6709\u4eba\u7684\u79c1\u94a5\u7531\u81ea\u5df1\u4fdd\u5b58\uff0c\u4e14\u4e0d\u80fd\u6cc4\u9732\uff0c\u8fd9\u4e00\u70b9\u7531\u6301\u6709\u4eba\u81ea\u8eab\u4fdd\u8bc1\u3002 \u6240\u6709\u4eba\u7684\u516c\u94a5\u9700\u8981\u5bf9\u5916\u516c\u5f00\u3002 \u7b2c 2 \u4e2a\u524d\u63d0\u5e26\u6765\u4e00\u4e2a\u65b0\u7684\u95ee\u9898\uff0c\u5c31\u662f\u516c\u94a5\u5982\u4f55\u5b89\u5168\u53ef\u4fe1\u7684\u5bf9\u5916\u5206\u53d1\uff0c\u600e\u4e48\u9632\u6b62\u7b2c\u4e09\u65b9\u5192\u5145\u6211\u6563\u53d1\u5047\u7684\u516c\u94a5\uff0c\u5176\u4ed6\u4eba\u6536\u5230\u516c\u94a5\u540e\u53c8\u5982\u4f55\u624d\u80fd\u786e\u8ba4\u4ed6\u4eec\u6301\u6709\u7684\u516c\u94a5\u7684\u786e\u662f\u6211\u7684\u516c\u94a5\u5462\uff1f \u53c2\u8003 http://www.youdzone.com/signature.html","title":"1.1 \u975e\u5bf9\u79f0\u52a0\u5bc6"},{"location":"1-SSL%20%E5%8E%9F%E7%90%86%E6%A6%82%E8%BF%B0/1-%E9%9D%9E%E5%AF%B9%E7%A7%B0%E5%8A%A0%E5%AF%86/#11","text":"","title":"1.1 \u975e\u5bf9\u79f0\u52a0\u5bc6\u4e0e\u6570\u5b57\u7b7e\u540d"},{"location":"1-SSL%20%E5%8E%9F%E7%90%86%E6%A6%82%E8%BF%B0/1-%E9%9D%9E%E5%AF%B9%E7%A7%B0%E5%8A%A0%E5%AF%86/#_1","text":"\u975e\u5bf9\u79f0\u52a0\u5bc6\u4f53\u7cfb\u4f1a\u7528\u5230 2 \u628a\u5bc6\u94a5\uff1a \u79c1\u94a5 \u4e0e\u5bf9\u5e94\u7684 \u516c\u94a5 \uff0c \u79c1\u94a5 \u7531\u6301\u6709\u4eba\u81ea\u5df1\u4fdd\u5b58\uff0c\u4e0d\u80fd\u6cc4\u9732\uff0c\u4f46 \u516c\u94a5 \u5bf9\u5916\u516c\u5f00\u3002 \u8fd9\u4e00\u5bf9 \u79c1\u94a5 \u548c \u516c\u94a5 \u7684\u5177\u6709\u4ee5\u4e0b\u7279\u6027\uff1a \u516c\u94a5\u548c\u79c1\u94a5\u4e00\u4e00\u5bf9\u5e94\uff0c\u6709\u4e00\u628a\u516c\u94a5\u5c31\u5fc5\u7136\u6709\u4e00\u628a\u4e0e\u4e4b\u5bf9\u5e94\u7684\u3001\u72ec\u4e00\u65e0\u4e8c\u7684\u79c1\u94a5\uff0c\u53cd\u4e4b\u4ea6\u6210\u7acb \u540c\u65f6\u751f\u6210\u516c\u94a5\u548c\u79c1\u94a5\u76f8\u5bf9\u6bd4\u8f83\u5bb9\u6613\uff0c\u4f46\u662f\u4ece\u516c\u94a5\u63a8\u7b97\u51fa\u79c1\u94a5\uff0c\u5fc5\u987b\u662f\u5f88\u56f0\u96be\u6216\u8005\u662f\u4e0d\u53ef\u80fd\u7684 \u6240\u6709\u7684\u79d8\u94a5\u5bf9\uff08\u516c\u94a5, \u79c1\u94a5\uff09\u90fd\u662f\u4e0d\u540c\u7684 \u7ecf \u516c\u94a5 \u52a0\u5bc6\u7684\u4fe1\u606f\uff0c\u53ea\u80fd\u901a\u8fc7\u5bf9\u5e94\u7684 \u79c1\u94a5 \u89e3\u5bc6\uff0c\u53cd\u4e4b\u4ea6\u6210\u7acb \u516c\u94a5\u3001\u79c1\u94a5\u7684\u7279\u6027\u662f\u7531\u975e\u5bf9\u79f0\u52a0\u5bc6\u7b97\u6cd5\u4fdd\u8bc1\u7684\uff0c\u5e38\u7528\u7684\u975e\u5bf9\u79f0\u52a0\u5bc6\u7b97\u6cd5\u6709 RSA, Elgamal, ECC \u7b49\u3002 \u6839\u636e\u516c\u79c1\u94a5\u7684\u7279\u6027(\u5c24\u5176\u662f\u5bf9\u7b2c 4 \u4e2a\u7279\u6027\u7684\u5e94\u7528)\uff0c\u53ef\u4ee5\u5ef6\u4f38\u51fa 2 \u79cd\u7528\u9014\uff1a","title":"\u516c\u94a5\uff0c\u79c1\u94a5"},{"location":"1-SSL%20%E5%8E%9F%E7%90%86%E6%A6%82%E8%BF%B0/1-%E9%9D%9E%E5%AF%B9%E7%A7%B0%E5%8A%A0%E5%AF%86/#1","text":"\u5982\u679c\u6709\u4eba\u60f3\u7ed9\u6211\u53d1\u4fe1\u606f\uff0c\u4f46\u662f\u4e0d\u60f3\u8ba9\u9664\u6211\u4e4b\u5916\u7684\u5176\u4ed6\u4eba\u77e5\u9053\u8fd9\u4e2a\u4fe1\u606f\uff0c\u53ef\u4ee5\u5728\u53d1\u9001\u4e4b\u524d\u7528\u6211\u7684\u516c\u94a5\u52a0\u5bc6\u4fe1\u606f\uff0c\u7136\u540e\u518d\u53d1\u9001\u52a0\u5bc6\u540e\u7684\u4fe1\u606f\u3002\u8fd9\u6837\u6bcf\u4e2a\u6301\u6709\u6211\u516c\u94a5\u7684\u4eba\u90fd\u53ef\u4ee5\u5411\u6211\u53d1\u9001\u52a0\u5bc6\u7684\u4fe1\u606f\uff0c\u53ea\u6709\u6301\u6709\u79c1\u94a5\u7684\u6211\u624d\u80fd\u89e3\u5bc6\u4fe1\u606f\uff0c\u5176\u4ed6\u4eba\u5373\u4f7f\u62e6\u622a\u5230\u52a0\u5bc6\u7684\u4fe1\u606f\u4e5f\u65e0\u6cd5\u89e3\u5bc6\u3002","title":"\u7528\u9014 1\uff1a\u4fe1\u606f\u52a0\u5bc6"},{"location":"1-SSL%20%E5%8E%9F%E7%90%86%E6%A6%82%E8%BF%B0/1-%E9%9D%9E%E5%AF%B9%E7%A7%B0%E5%8A%A0%E5%AF%86/#2","text":"\u79c1\u94a5 \u53ef\u4ee5\u5bf9\u4fe1\u606f\u751f\u6210\u6570\u5b57\u7b7e\u540d\uff0c \u516c\u94a5 \u53ef\u4ee5\u9a8c\u8bc1\u7b7e\u540d\uff0c\u4ece\u800c\u786e\u5b9a\uff1a \u8fd9\u4e2a\u7b7e\u540d\u662f\u516c\u94a5\u5bf9\u5e94\u7684\u79c1\u94a5\u751f\u6210\u7684\uff0c\u4e14\u65e0\u6cd5\u5426\u8ba4 \u7b7e\u540d\u5bf9\u5e94\u7684\u4fe1\u606f\u6ca1\u6709\u88ab\u7be1\u6539 \u5982\u679c\u6211\u6709\u5bf9\u5916\u53d1\u5e03\u4fe1\u606f\u7684\u9700\u6c42\uff0c\u540c\u65f6\u65e2\u4e0d\u60f3\u8ba9\u4efb\u4f55\u4eba\u5192\u5145\u6211\u53d1\u5e03\u865a\u5047\u4fe1\u606f\uff0c\u4e5f\u4e0d\u60f3\u8ba9\u4efb\u4f55\u4eba\u7be1\u6539\u6211\u53d1\u5e03\u7684\u4fe1\u606f\uff0c\u53ef\u4ee5\u5728\u53d1\u5e03\u4fe1\u606f\u4e4b\u524d\u7528\u6211\u7684\u79c1\u94a5\u5bf9\u4fe1\u606f\u8fdb\u884c\u6570\u5b57\u7b7e\u540d\uff0c\u5177\u4f53\u64cd\u4f5c\u4e3a\uff1a \u4f7f\u7528 hash \u51fd\u6570\uff08\u5982 MD5, SHA \u7b49\uff09\u751f\u6210\u4fe1\u606f\u7684 \u6458\u8981 (digest) \u4f7f\u7528\u6211\u7684\u79c1\u94a5\u5bf9 \u6458\u8981 \u8fdb\u884c\u52a0\u5bc6\uff0c\u5373\u751f\u6210 \u7b7e\u540d (signature) \u5c06 \u7b7e\u540d \u9644\u5e26\u5728\u4fe1\u606f\u4e2d\u4e00\u8d77\u53d1\u5e03 \u8fd9\u6837\u6301\u6709\u6211\u7684\u516c\u94a5\u7684\u4eba\u6536\u5230\u4fe1\u606f\u540e\uff0c\u53ef\u4ee5\u901a\u8fc7 \u7b7e\u540d \u68c0\u67e5\u4fe1\u606f\u662f\u5426\u662f\u7531\u6211\u53d1\u5e03\u7684\uff0c\u5e76\u4e14\u53ef\u4ee5\u68c0\u67e5\u4fe1\u606f\u5185\u5bb9\u662f\u5426\u88ab\u7be1\u6539\uff0c\u5177\u4f53\u64cd\u4f5c\u4e3a\uff1a \u7528\u6211\u7684\u516c\u94a5\u5bf9 \u7b7e\u540d (signature) \u8fdb\u884c\u89e3\u5bc6\uff0c\u5f97\u5230 \u6458\u8981 (digest)\u3002\u5982\u679c\u53ef\u4ee5\u89e3\u5bc6\uff0c\u5c31\u8bc1\u660e \u7b7e\u540d \u662f\u6211\u7684\u79c1\u94a5\u751f\u6210\u7684\uff0c\u8fdb\u800c\u8bc1\u660e\u4fe1\u606f\u786e\u5b9e\u662f\u6211\u53d1\u5e03\u7684\uff0c\u5e76\u4e14\u6211\u65e0\u6cd5\u5426\u8ba4 \u4f7f\u7528 hash \u51fd\u6570\u751f\u6210\u4fe1\u606f\u7684 \u6458\u8981 \uff0c\u4e0e\u89e3\u5bc6\u5f97\u5230\u7684 \u6458\u8981 \u8fdb\u884c\u5bf9\u6bd4\uff0c\u5982\u679c\u6458\u8981\u76f8\u540c\uff0c\u5219\u8bc1\u660e\u4fe1\u606f\u5185\u5bb9\u6ca1\u6709\u88ab\u7be1\u6539","title":"\u7528\u9014 2\uff1a\u6570\u5b57\u7b7e\u540d"},{"location":"1-SSL%20%E5%8E%9F%E7%90%86%E6%A6%82%E8%BF%B0/1-%E9%9D%9E%E5%AF%B9%E7%A7%B0%E5%8A%A0%E5%AF%86/#_2","text":"\u975e\u5bf9\u79f0\u52a0\u5bc6\u4f53\u7cfb\u4f9d\u8d56 2 \u4e2a\u524d\u63d0\uff1a \u6240\u6709\u4eba\u7684\u79c1\u94a5\u7531\u81ea\u5df1\u4fdd\u5b58\uff0c\u4e14\u4e0d\u80fd\u6cc4\u9732\uff0c\u8fd9\u4e00\u70b9\u7531\u6301\u6709\u4eba\u81ea\u8eab\u4fdd\u8bc1\u3002 \u6240\u6709\u4eba\u7684\u516c\u94a5\u9700\u8981\u5bf9\u5916\u516c\u5f00\u3002 \u7b2c 2 \u4e2a\u524d\u63d0\u5e26\u6765\u4e00\u4e2a\u65b0\u7684\u95ee\u9898\uff0c\u5c31\u662f\u516c\u94a5\u5982\u4f55\u5b89\u5168\u53ef\u4fe1\u7684\u5bf9\u5916\u5206\u53d1\uff0c\u600e\u4e48\u9632\u6b62\u7b2c\u4e09\u65b9\u5192\u5145\u6211\u6563\u53d1\u5047\u7684\u516c\u94a5\uff0c\u5176\u4ed6\u4eba\u6536\u5230\u516c\u94a5\u540e\u53c8\u5982\u4f55\u624d\u80fd\u786e\u8ba4\u4ed6\u4eec\u6301\u6709\u7684\u516c\u94a5\u7684\u786e\u662f\u6211\u7684\u516c\u94a5\u5462\uff1f","title":"\u65b0\u7684\u95ee\u9898"},{"location":"1-SSL%20%E5%8E%9F%E7%90%86%E6%A6%82%E8%BF%B0/1-%E9%9D%9E%E5%AF%B9%E7%A7%B0%E5%8A%A0%E5%AF%86/#_3","text":"http://www.youdzone.com/signature.html","title":"\u53c2\u8003"},{"location":"1-SSL%20%E5%8E%9F%E7%90%86%E6%A6%82%E8%BF%B0/2-%E8%AF%81%E4%B9%A6%E4%B8%8E%20CA/","text":"1.2 \u8bc1\u4e66\u4e0e CA \u8bc1\u4e66 \u4e0e CA \u5b58\u5728\u7684\u76ee\u7684\u662f\u4e3a\u4e86\u63d0\u4f9b\u53ef\u4ee5\u5b89\u5168\u53ef\u4fe1\u5730\u5206\u53d1\u516c\u94a5\u7684\u65b9\u6cd5 \u8bc1\u4e66 \u5305\u542b\u516c\u94a5\u548c\u8eab\u4efd\u4fe1\u606f\u7684\u8bc1\u4e66 \u975e\u5bf9\u79f0\u52a0\u5bc6\u4f53\u7cfb\u4e2d\uff0c\u6bcf\u4e2a\u4eba\u7684\u516c\u94a5\u9700\u8981\u5bf9\u5916\u516c\u5e03\uff0c\u6bcf\u4e2a\u4eba\u90fd\u53ef\u80fd\u63a5\u6536\u5230\u591a\u4e2a\u516c\u94a5\uff0c\u8fd9\u65f6\u5c31\u9700\u8981\u5c06\u516c\u94a5\u4e0e\u8eab\u4efd\u4fe1\u606f\u7ed1\u5b9a\uff0c\u4fbf\u4e8e\u533a\u5206\u3002 \u5982\u679c\u6211\u60f3\u5bf9\u5916\u5206\u53d1\u6211\u7684\u516c\u94a5\uff0c\u6211\u4e0d\u518d\u76f4\u63a5\u5bf9\u5916\u63d0\u4f9b\u516c\u94a5\uff0c\u800c\u662f\u5bf9\u5916\u63d0\u4f9b\u6211\u7684\u8bc1\u4e66\uff0c\u8bc1\u4e66\u91cc\u5305\u542b\u6211\u7684\u516c\u94a5\uff0c\u540c\u65f6\u8fd8\u5305\u542b\u6211\u7684\u8eab\u4efd\u4fe1\u606f\uff0c\u4f8b\u5982\u6211\u7684\u540d\u5b57\u3001\u6240\u5c5e\u7684\u56fd\u5bb6\u3001\u7ec4\u7ec7\u7b49\u4fe1\u606f\u3002 \u7279\u522b\u7684\u662f\uff0c\u5bf9\u4e8e\u7f51\u7edc\u901a\u4fe1\uff0c\u53ef\u4ee5\u628a\u901a\u4fe1\u7aef\u7684\u57df\u540d\u6216\u8005 IP \u4f5c\u4e3a\u8eab\u4efd\u4fe1\u606f\u7684\u4e00\u90e8\u5206\uff0c\u8fd9\u6837\u7f51\u7edc\u8fde\u63a5\u5efa\u7acb\u4e4b\u540e\uff0c\u5c31\u53ef\u4ee5\u4ece\u8fd9\u4e2a\u8fde\u63a5\u83b7\u53d6\u5bf9\u7aef\u7684\u8bc1\u4e66\uff0c\u540c\u65f6\u68c0\u67e5\u8bc1\u4e66\u8eab\u4efd\u4fe1\u606f\u4e2d\u7684\u57df\u540d\u6216\u8005 IP \u548c\u8fd9\u4e2a\u8fde\u63a5\u5bf9\u7aef\u7684\u57df\u540d\u6216\u8005 IP \u662f\u5426\u4e00\u81f4\u3002 \u8fd9\u6837\u53ef\u4ee5\u89e3\u51b3\u4e00\u90e8\u5206\u95ee\u9898\uff0c\u4f46\u662f\u4ecd\u7136\u4e0d\u80fd\u9632\u6b62\u4e2d\u95f4\u4eba\u62e6\u622a\u5e76\u4fee\u6539\u6211\u7684\u8bc1\u4e66\uff0c\u5c06\u8bc1\u4e66\u91cc\u7684\u516c\u94a5\u66ff\u6362\u6210\u4ed6\u7684\u516c\u94a5\uff0c\u4ece\u800c\u5192\u5145\u6211\u3002 CA CA \uff08Certificate Authority\uff09\u8bc1\u4e66\u9881\u53d1\u673a\u6784 \u627e CA \u5bf9\u8bc1\u4e66\u8fdb\u884c\u7b7e\u540d \u600e\u4e48\u6837\u53ef\u4ee5\u9632\u6b62\u5176\u4ed6\u4eba\u62e6\u622a\u5e76\u7be1\u6539\u6211\u7684\u8bc1\u4e66\u5185\u5bb9\uff0c\u8fd9\u4e2a\u8981\u6c42\u53ef\u4ee5\u7528 \u6570\u5b57\u7b7e\u540d \u5b8c\u6210\u3002 \u53ef\u4ee5\u627e\u4e00\u4e2a\u6743\u5a01\u7684\u7b2c\u4e09\u65b9 CA \u5bf9\u6211\u7684\u8bc1\u4e66\u8fdb\u884c \u6570\u5b57\u7b7e\u540d \uff0c\u4e4b\u540e\u6211\u5bf9\u5916\u5206\u53d1\u7b7e\u540d\u540e\u7684\u8bc1\u4e66\uff1a \u7528\u6237\u53ef\u4ee5\u4f7f\u7528 CA \u7684\u516c\u94a5\u9a8c\u8bc1 \u6570\u5b57\u7b7e\u540d \uff0c\u4ece\u800c\u786e\u8ba4\u8fd9\u4e2a\u8bc1\u4e66\u662f\u6743\u5a01 CA \u7b7e\u53d1\u7684\uff0c\u4e14\u5185\u5bb9\u672a\u88ab\u7be1\u6539 \u5982\u679c\u8bc1\u4e66\u901a\u8fc7\u9a8c\u8bc1\uff0c\u7528\u6237\u53ef\u4ee5\u4ece\u8bc1\u4e66\u4e2d\u6b63\u786e\u5730\u83b7\u53d6\u6211\u8eab\u4efd\u4fe1\u606f\u548c\u516c\u94a5 \u8fd9\u91cc\u5f53\u7136\u4e0d\u80fd\u7528\u6211\u7684\u79c1\u94a5\u7b7e\u540d\uff0c\u4e0d\u8981\u5fd8\u4e86\u8bc1\u4e66\u7684\u76ee\u7684\u5c31\u662f\u4e3a\u4e86\u8ba9\u5176\u4ed6\u4eba\u6b63\u786e\u7684\u83b7\u53d6\u6211\u7684\u516c\u94a5\uff0c\u5728\u6ca1\u6709\u83b7\u53d6\u6211\u7684\u516c\u94a5\u4e4b\u524d\uff0c\u5176\u4ed6\u4eba\u65e0\u6cd5\u9a8c\u8bc1\u6211\u7684\u79c1\u94a5\u7b7e\u540d \u524d\u63d0\u662f\u6240\u6709\u4eba\u90fd\u8981\u4fe1\u4efb CA \u8fd9\u91cc\u6709\u4e00\u4e2a\u524d\u63d0\u662f \u6240\u6709\u4eba\u90fd\u8981\u4fe1\u4efb CA \uff0c\u5373\u63d0\u524d\u6b63\u786e\u7684\u83b7\u53d6\u5230 CA \u7684\u8bc1\u4e66\uff08CA \u7684\u516c\u94a5\uff0c\u8eab\u4efd\u4fe1\u606f\uff0c\uff08\u5176\u4ed6CA\u7684\u7b7e\u540d\uff09\uff09\uff1a \u6d4f\u89c8\u5668/\u64cd\u4f5c\u7cfb\u7edf\u4f1a\u5185\u7f6e\u4e00\u4e9b\u6743\u5a01 CA \u8bc1\u4e66 \u53ef\u4ee5\u624b\u52a8\u6dfb\u52a0/\u6307\u5b9a\u81ea\u5df1\u4fe1\u4efb\u7684 CA \u8bc1\u4e66 CA \u4fe1\u4efb\u94fe: CA \u7684\u8bc1\u4e66\u540c\u6837\u53ef\u4ee5\u8ba9\u5176\u4ed6 CA \u5bf9\u5176\u8fdb\u884c\u7b7e\u540d\uff0c\u8fd9\u6837\u5982\u679c CA_1 \u4e0d\u591f\u6743\u5a01\uff0c\u6ca1\u6709\u5185\u7f6e\u5728\u6d4f\u89c8\u5668/\u64cd\u4f5c\u7cfb\u7edf\u4e2d\uff0c\u90a3\u4e48 CA_1 \u53ef\u4ee5\u627e\u66f4\u6743\u5a01\u7684 CA_2 \u5bf9\u81ea\u5df1\u8fdb\u884c\u7b7e\u540d\uff0c\u8fd9\u6761 CA \u7b7e\u540d\u7684\u94fe\u6761\u53ef\u4ee5\u4e00\u76f4\u5ef6\u4f38\u4e0b\u53bb\u3002\u4fe1\u4efb\u94fe\u7684\u7ec8\u70b9\u88ab\u79f0\u4e3a root CA\uff0c\u5b83\u662f\u81ea\u7b7e\u540d\u7684\u8bc1\u4e66\u3002 CA \u9700\u8981\u9a8c\u8bc1\u6211\u7684\u8eab\u4efd CA \u5728\u5bf9\u6211\u7684\u8bc1\u4e66\u8fdb\u884c\u7b7e\u540d\u4e4b\u524d\uff0c\u8981\u9a8c\u8bc1\u6211\u7684\u8eab\u4efd\uff0c\u4e00\u822c\u662f\u8fd9\u6837\u505a\u7684\uff1a \u4f8b\u5982\u6211\u5bf9\u5916\u63d0\u4f9b\u4e00\u4e2a\u7f51\u7ad9\u670d\u52a1\uff0c\u90a3\u4e48\u6211\u8bc1\u4e66\u8eab\u4efd\u4fe1\u606f\u4e2d\u4e5f\u8981\u6709\u8fd9\u4e2a\u7f51\u7ad9\u57df\u540d\uff0cCA \u4f1a\u8981\u6c42\u6211\u5728\u6211\u7684\u7f51\u7ad9\u589e\u52a0\u4e00\u4e2a\u6587\u672c\u94fe\u63a5\uff0c\u6587\u672c\u5185\u5bb9\u662f CA \u968f\u673a\u751f\u6210\u7684\u5185\u5bb9\uff0c\u6211\u5728\u7f51\u7ad9\u589e\u52a0\u4e86\u8fd9\u4e2a\u6587\u672c\u540e\uff0cCA \u5c31\u53ef\u4ee5\u786e\u8ba4\u6211\u7684\u786e\u662f\u8fd9\u4e2a\u7f51\u7ad9\u7684\u62e5\u6709\u8005\u3002","title":"1.2 \u8bc1\u4e66\u4e0e CA"},{"location":"1-SSL%20%E5%8E%9F%E7%90%86%E6%A6%82%E8%BF%B0/2-%E8%AF%81%E4%B9%A6%E4%B8%8E%20CA/#12-ca","text":"\u8bc1\u4e66 \u4e0e CA \u5b58\u5728\u7684\u76ee\u7684\u662f\u4e3a\u4e86\u63d0\u4f9b\u53ef\u4ee5\u5b89\u5168\u53ef\u4fe1\u5730\u5206\u53d1\u516c\u94a5\u7684\u65b9\u6cd5","title":"1.2 \u8bc1\u4e66\u4e0e CA"},{"location":"1-SSL%20%E5%8E%9F%E7%90%86%E6%A6%82%E8%BF%B0/2-%E8%AF%81%E4%B9%A6%E4%B8%8E%20CA/#_1","text":"","title":"\u8bc1\u4e66"},{"location":"1-SSL%20%E5%8E%9F%E7%90%86%E6%A6%82%E8%BF%B0/2-%E8%AF%81%E4%B9%A6%E4%B8%8E%20CA/#_2","text":"\u975e\u5bf9\u79f0\u52a0\u5bc6\u4f53\u7cfb\u4e2d\uff0c\u6bcf\u4e2a\u4eba\u7684\u516c\u94a5\u9700\u8981\u5bf9\u5916\u516c\u5e03\uff0c\u6bcf\u4e2a\u4eba\u90fd\u53ef\u80fd\u63a5\u6536\u5230\u591a\u4e2a\u516c\u94a5\uff0c\u8fd9\u65f6\u5c31\u9700\u8981\u5c06\u516c\u94a5\u4e0e\u8eab\u4efd\u4fe1\u606f\u7ed1\u5b9a\uff0c\u4fbf\u4e8e\u533a\u5206\u3002 \u5982\u679c\u6211\u60f3\u5bf9\u5916\u5206\u53d1\u6211\u7684\u516c\u94a5\uff0c\u6211\u4e0d\u518d\u76f4\u63a5\u5bf9\u5916\u63d0\u4f9b\u516c\u94a5\uff0c\u800c\u662f\u5bf9\u5916\u63d0\u4f9b\u6211\u7684\u8bc1\u4e66\uff0c\u8bc1\u4e66\u91cc\u5305\u542b\u6211\u7684\u516c\u94a5\uff0c\u540c\u65f6\u8fd8\u5305\u542b\u6211\u7684\u8eab\u4efd\u4fe1\u606f\uff0c\u4f8b\u5982\u6211\u7684\u540d\u5b57\u3001\u6240\u5c5e\u7684\u56fd\u5bb6\u3001\u7ec4\u7ec7\u7b49\u4fe1\u606f\u3002 \u7279\u522b\u7684\u662f\uff0c\u5bf9\u4e8e\u7f51\u7edc\u901a\u4fe1\uff0c\u53ef\u4ee5\u628a\u901a\u4fe1\u7aef\u7684\u57df\u540d\u6216\u8005 IP \u4f5c\u4e3a\u8eab\u4efd\u4fe1\u606f\u7684\u4e00\u90e8\u5206\uff0c\u8fd9\u6837\u7f51\u7edc\u8fde\u63a5\u5efa\u7acb\u4e4b\u540e\uff0c\u5c31\u53ef\u4ee5\u4ece\u8fd9\u4e2a\u8fde\u63a5\u83b7\u53d6\u5bf9\u7aef\u7684\u8bc1\u4e66\uff0c\u540c\u65f6\u68c0\u67e5\u8bc1\u4e66\u8eab\u4efd\u4fe1\u606f\u4e2d\u7684\u57df\u540d\u6216\u8005 IP \u548c\u8fd9\u4e2a\u8fde\u63a5\u5bf9\u7aef\u7684\u57df\u540d\u6216\u8005 IP \u662f\u5426\u4e00\u81f4\u3002 \u8fd9\u6837\u53ef\u4ee5\u89e3\u51b3\u4e00\u90e8\u5206\u95ee\u9898\uff0c\u4f46\u662f\u4ecd\u7136\u4e0d\u80fd\u9632\u6b62\u4e2d\u95f4\u4eba\u62e6\u622a\u5e76\u4fee\u6539\u6211\u7684\u8bc1\u4e66\uff0c\u5c06\u8bc1\u4e66\u91cc\u7684\u516c\u94a5\u66ff\u6362\u6210\u4ed6\u7684\u516c\u94a5\uff0c\u4ece\u800c\u5192\u5145\u6211\u3002","title":"\u5305\u542b\u516c\u94a5\u548c\u8eab\u4efd\u4fe1\u606f\u7684\u8bc1\u4e66"},{"location":"1-SSL%20%E5%8E%9F%E7%90%86%E6%A6%82%E8%BF%B0/2-%E8%AF%81%E4%B9%A6%E4%B8%8E%20CA/#ca","text":"CA \uff08Certificate Authority\uff09\u8bc1\u4e66\u9881\u53d1\u673a\u6784","title":"CA"},{"location":"1-SSL%20%E5%8E%9F%E7%90%86%E6%A6%82%E8%BF%B0/2-%E8%AF%81%E4%B9%A6%E4%B8%8E%20CA/#ca_1","text":"\u600e\u4e48\u6837\u53ef\u4ee5\u9632\u6b62\u5176\u4ed6\u4eba\u62e6\u622a\u5e76\u7be1\u6539\u6211\u7684\u8bc1\u4e66\u5185\u5bb9\uff0c\u8fd9\u4e2a\u8981\u6c42\u53ef\u4ee5\u7528 \u6570\u5b57\u7b7e\u540d \u5b8c\u6210\u3002 \u53ef\u4ee5\u627e\u4e00\u4e2a\u6743\u5a01\u7684\u7b2c\u4e09\u65b9 CA \u5bf9\u6211\u7684\u8bc1\u4e66\u8fdb\u884c \u6570\u5b57\u7b7e\u540d \uff0c\u4e4b\u540e\u6211\u5bf9\u5916\u5206\u53d1\u7b7e\u540d\u540e\u7684\u8bc1\u4e66\uff1a \u7528\u6237\u53ef\u4ee5\u4f7f\u7528 CA \u7684\u516c\u94a5\u9a8c\u8bc1 \u6570\u5b57\u7b7e\u540d \uff0c\u4ece\u800c\u786e\u8ba4\u8fd9\u4e2a\u8bc1\u4e66\u662f\u6743\u5a01 CA \u7b7e\u53d1\u7684\uff0c\u4e14\u5185\u5bb9\u672a\u88ab\u7be1\u6539 \u5982\u679c\u8bc1\u4e66\u901a\u8fc7\u9a8c\u8bc1\uff0c\u7528\u6237\u53ef\u4ee5\u4ece\u8bc1\u4e66\u4e2d\u6b63\u786e\u5730\u83b7\u53d6\u6211\u8eab\u4efd\u4fe1\u606f\u548c\u516c\u94a5 \u8fd9\u91cc\u5f53\u7136\u4e0d\u80fd\u7528\u6211\u7684\u79c1\u94a5\u7b7e\u540d\uff0c\u4e0d\u8981\u5fd8\u4e86\u8bc1\u4e66\u7684\u76ee\u7684\u5c31\u662f\u4e3a\u4e86\u8ba9\u5176\u4ed6\u4eba\u6b63\u786e\u7684\u83b7\u53d6\u6211\u7684\u516c\u94a5\uff0c\u5728\u6ca1\u6709\u83b7\u53d6\u6211\u7684\u516c\u94a5\u4e4b\u524d\uff0c\u5176\u4ed6\u4eba\u65e0\u6cd5\u9a8c\u8bc1\u6211\u7684\u79c1\u94a5\u7b7e\u540d","title":"\u627e CA \u5bf9\u8bc1\u4e66\u8fdb\u884c\u7b7e\u540d"},{"location":"1-SSL%20%E5%8E%9F%E7%90%86%E6%A6%82%E8%BF%B0/2-%E8%AF%81%E4%B9%A6%E4%B8%8E%20CA/#ca_2","text":"\u8fd9\u91cc\u6709\u4e00\u4e2a\u524d\u63d0\u662f \u6240\u6709\u4eba\u90fd\u8981\u4fe1\u4efb CA \uff0c\u5373\u63d0\u524d\u6b63\u786e\u7684\u83b7\u53d6\u5230 CA \u7684\u8bc1\u4e66\uff08CA \u7684\u516c\u94a5\uff0c\u8eab\u4efd\u4fe1\u606f\uff0c\uff08\u5176\u4ed6CA\u7684\u7b7e\u540d\uff09\uff09\uff1a \u6d4f\u89c8\u5668/\u64cd\u4f5c\u7cfb\u7edf\u4f1a\u5185\u7f6e\u4e00\u4e9b\u6743\u5a01 CA \u8bc1\u4e66 \u53ef\u4ee5\u624b\u52a8\u6dfb\u52a0/\u6307\u5b9a\u81ea\u5df1\u4fe1\u4efb\u7684 CA \u8bc1\u4e66 CA \u4fe1\u4efb\u94fe: CA \u7684\u8bc1\u4e66\u540c\u6837\u53ef\u4ee5\u8ba9\u5176\u4ed6 CA \u5bf9\u5176\u8fdb\u884c\u7b7e\u540d\uff0c\u8fd9\u6837\u5982\u679c CA_1 \u4e0d\u591f\u6743\u5a01\uff0c\u6ca1\u6709\u5185\u7f6e\u5728\u6d4f\u89c8\u5668/\u64cd\u4f5c\u7cfb\u7edf\u4e2d\uff0c\u90a3\u4e48 CA_1 \u53ef\u4ee5\u627e\u66f4\u6743\u5a01\u7684 CA_2 \u5bf9\u81ea\u5df1\u8fdb\u884c\u7b7e\u540d\uff0c\u8fd9\u6761 CA \u7b7e\u540d\u7684\u94fe\u6761\u53ef\u4ee5\u4e00\u76f4\u5ef6\u4f38\u4e0b\u53bb\u3002\u4fe1\u4efb\u94fe\u7684\u7ec8\u70b9\u88ab\u79f0\u4e3a root CA\uff0c\u5b83\u662f\u81ea\u7b7e\u540d\u7684\u8bc1\u4e66\u3002","title":"\u524d\u63d0\u662f\u6240\u6709\u4eba\u90fd\u8981\u4fe1\u4efb CA"},{"location":"1-SSL%20%E5%8E%9F%E7%90%86%E6%A6%82%E8%BF%B0/2-%E8%AF%81%E4%B9%A6%E4%B8%8E%20CA/#ca_3","text":"CA \u5728\u5bf9\u6211\u7684\u8bc1\u4e66\u8fdb\u884c\u7b7e\u540d\u4e4b\u524d\uff0c\u8981\u9a8c\u8bc1\u6211\u7684\u8eab\u4efd\uff0c\u4e00\u822c\u662f\u8fd9\u6837\u505a\u7684\uff1a \u4f8b\u5982\u6211\u5bf9\u5916\u63d0\u4f9b\u4e00\u4e2a\u7f51\u7ad9\u670d\u52a1\uff0c\u90a3\u4e48\u6211\u8bc1\u4e66\u8eab\u4efd\u4fe1\u606f\u4e2d\u4e5f\u8981\u6709\u8fd9\u4e2a\u7f51\u7ad9\u57df\u540d\uff0cCA \u4f1a\u8981\u6c42\u6211\u5728\u6211\u7684\u7f51\u7ad9\u589e\u52a0\u4e00\u4e2a\u6587\u672c\u94fe\u63a5\uff0c\u6587\u672c\u5185\u5bb9\u662f CA \u968f\u673a\u751f\u6210\u7684\u5185\u5bb9\uff0c\u6211\u5728\u7f51\u7ad9\u589e\u52a0\u4e86\u8fd9\u4e2a\u6587\u672c\u540e\uff0cCA \u5c31\u53ef\u4ee5\u786e\u8ba4\u6211\u7684\u786e\u662f\u8fd9\u4e2a\u7f51\u7ad9\u7684\u62e5\u6709\u8005\u3002","title":"CA \u9700\u8981\u9a8c\u8bc1\u6211\u7684\u8eab\u4efd"},{"location":"1-SSL%20%E5%8E%9F%E7%90%86%E6%A6%82%E8%BF%B0/3-SSL%20%E5%8D%8F%E8%AE%AE/","text":"1.2 SSL \u534f\u8bae SSL(Secure Sockets Layer) \u662f\u7531 Netscape \u516c\u53f8\u8bbe\u8ba1\uff0c\u7528\u4e8e\u4e3a\u7f51\u7edc\u901a\u4fe1\u63d0\u4f9b\u5b89\u5168\u53ca\u6570\u636e\u5b8c\u6574\u6027\u7684\u4e00\u79cd\u5b89\u5168\u534f\u8bae\uff0c\u968f\u7740 SSL \u7684\u5e7f\u6cdb\u5e94\u7528\u4e0e\u53d1\u5c55\uff0cSSL \u9010\u6e10\u6210\u4e3a\u4e92\u8054\u7f51\u7684\u4e00\u4e2a\u6807\u51c6\uff0c\u5e76\u66f4\u540d\u4e3a TLS(Transport Layer Security)\u3002 SSL \u534f\u8bae\u4e00\u822c\u4f4d\u4e8e TCP/IP \u534f\u8bae\u4e0e\u5404\u79cd\u5e94\u7528\u5c42\u534f\u8bae\u4e4b\u95f4\uff0c\u4e3a\u6570\u636e\u901a\u8baf\u63d0\u4f9b\u5b89\u5168\u652f\u6301\u3002 \u57fa\u672c\u601d\u8def SSL \u534f\u8bae\u7684\u57fa\u672c\u601d\u8def\u662f\u5c06\u901a\u4fe1\u8fc7\u7a0b\u5206\u4e3a 2 \u4e2a\u9636\u6bb5\uff1a \u63e1\u624b\u9636\u6bb5\uff1a\u5229\u7528\u975e\u5bf9\u79f0\u52a0\u5bc6\u9a8c\u8bc1\u670d\u52a1\u7aef\u8eab\u4efd\uff0c\u5e76\u534f\u5546\u51fa\u4e00\u4e2a\u5bf9\u79f0\u52a0\u5bc6\u7b97\u6cd5\u4e0e\u5bc6\u94a5 \u8bb0\u5f55\u9636\u6bb5\uff1a\u5229\u7528\u63e1\u624b\u9636\u6bb5\u534f\u5546\u5f97\u5230\u7684\u5bf9\u79f0\u52a0\u5bc6\u7b97\u6cd5\u4e0e\u5bc6\u94a5\uff0c\u52a0\u5bc6\u901a\u4fe1\u5185\u5bb9 \u8be6\u7ec6\u8fc7\u7a0b \u8be6\u7ec6\u8fc7\u7a0b\u5982\u4e0b\uff1a client \u5411 server \u53d1\u9001\u52a0\u5bc6\u901a\u4fe1\u8bf7\u6c42\uff0c\u8bf7\u6c42\u4e2d\u643a\u5e26 client \u652f\u6301\u7684\u534f\u8bae\u7248\u672c\uff0cclient \u751f\u6210\u7684\u968f\u673a\u6570 client-random\uff0c\u52a0\u5bc6\u7b97\u6cd5\uff0c\u538b\u7f29\u65b9\u6cd5\u7b49\u5185\u5bb9 server \u9996\u5148\u4ece client \u53d1\u9001\u7684\u8bf7\u6c42\u4e2d\u9009\u62e9\u8981\u4f7f\u7528\u7684\u534f\u8bae\u7248\u672c\u4e0e\u52a0\u5bc6\u7b97\u6cd5\uff0c\u4e4b\u540e\u5411 client \u53d1\u9001\u54cd\u5e94\uff0c\u54cd\u5e94\u4e2d\u643a\u5e26\u8981\u4f7f\u7528\u7684\u534f\u8bae\u7248\u672c\u4e0e\u52a0\u5bc6\u7b97\u6cd5\uff0cserver \u751f\u6210\u7684\u968f\u673a\u6570 server-random \u4ee5\u53ca server \u7684\u6570\u5b57\u8bc1\u4e66 client \u6536\u5230 server \u7684\u54cd\u5e94\u540e \u9a8c\u8bc1 server \u6570\u5b57\u8bc1\u4e66\uff1a\u8bc1\u4e66\u662f\u4e0d\u662f\u53ef\u4fe1 CA \u53d1\u5e03\u7684\uff1b\u8bc1\u4e66\u4e2d\u7684\u57df\u540d\u4e0e server \u57df\u540d\u662f\u5426\u4e00\u81f4\uff1b\u8bc1\u4e66\u662f\u5426\u8fc7\u671f\uff1b \u5982\u679c\u8bc1\u4e66\u53ef\u4fe1\u6216\u8005 client \u63a5\u53d7\u4e86\u4e0d\u53ef\u4fe1\u7684\u8bc1\u4e66\uff0cclient \u4f1a\u4ece\u8bc1\u4e66\u4e2d\u83b7\u53d6 server \u516c\u94a5\uff0c\u5426\u5219\u63e1\u624b\u5931\u8d25\uff1b client \u4ea7\u751f\u4e00\u4e2a\u968f\u673a\u6570 pre-master-key\uff0c\u7528 server \u7684\u516c\u94a5\u52a0\u5bc6\u540e\u53d1\u9001\u7ed9 server client \u7528 client-random, server-random, pre-master-key \u8ba1\u7b97\u672c\u6b21\u4f1a\u8bdd\u4f7f\u7528\u7684\u5bc6\u94a5 server \u6536\u5230 client \u53d1\u9001\u7684\u516c\u94a5\u52a0\u5bc6\u7684 pre-master-key \u540e\uff0c\u7528\u81ea\u5df1\u7684\u79c1\u94a5\u89e3\u5bc6\uff0c\u7528 client-random, server-random, pre-master-key \u8ba1\u7b97\u672c\u6b21\u4f1a\u8bdd\u4f7f\u7528\u7684\u5bc6\u94a5 \u63e1\u624b\u7ed3\u675f\u540e\uff0cclient \u548c server \u4f7f\u7528\u63e1\u624b\u9636\u6bb5\u534f\u5546\u5f97\u5230\u7684\u52a0\u5bc6\u7b97\u6cd5\u4e0e\u4f1a\u8bdd\u5bc6\u94a5\u8fdb\u884c\u5bf9\u79f0\u52a0\u89e3\u5bc6\u7684\u4f20\u8f93\u3002 \u63e1\u624b\u9636\u6bb5\u4f20\u8f93\u5185\u5bb9\u662f\u660e\u6587\u7684\uff08\u6ca1\u6cd5\u52a0\u5bc6\uff09\uff0c\u5982\u679c\u7b2c\u4e09\u65b9\u7a83\u542c\uff0c\u4ed6\u53ef\u4ee5\u83b7\u53d6\u53cc\u65b9\u9009\u62e9\u7684\u52a0\u5bc6\u7b97\u6cd5\uff0cclient-random \u548c server-random\u3002\u4f46\u662f pre-master-key \u662f\u4f7f\u7528 server \u516c\u94a5\u52a0\u5bc6\u7684\uff0c\u5982\u679c\u7b2c\u4e09\u65b9\u65e0\u6cd5\u7834\u89e3\u51fa pre-master-key\uff0c\u5219\u65e0\u6cd5\u5f97\u5230\u4f1a\u8bdd\u5bc6\u94a5\uff0c\u4f1a\u8bdd\u4ecd\u662f\u5b89\u5168\u7684\u3002 \u8bc1\u4e66\u7684\u4f5c\u7528 \u5728\u8fd9\u4e2a\u8fc7\u7a0b\u4e2d\uff0c\u4e3a\u4e86\u907f\u514d\u4e2d\u95f4\u4eba\u5192\u5145\u670d\u52a1\u7aef\uff0c\u63d0\u4f9b\u865a\u5047\u7684\u516c\u94a5\uff0c\u670d\u52a1\u7aef\u9700\u8981\u7528\u81ea\u5df1\u7684\u4fe1\u606f\u5411 CA \u7533\u8bf7 SSL \u8bc1\u4e66\u3002CA \u4f1a\u901a\u8fc7\u81ea\u5df1\u7684\u79c1\u94a5\u5c06\u7f51\u7ad9\u7684\u516c\u94a5\u548c\u7f51\u7ad9\u7684\u5404\u79cd\u76f8\u5173\u4fe1\u606f\uff0c\u6bd4\u5982\u57df\u540d\u7b49\u8fdb\u884c\u7b7e\u540d\uff0c\u5f62\u6210\u7535\u5b50\u8bc1\u4e66\uff0c\u9881\u53d1\u7ed9\u7533\u8bf7\u8005\u3002 \u8bc1\u4e66\u4e2d\u5305\u542b\u4e86\u670d\u52a1\u5668\u7684\u540d\u79f0\u548c\u5730\u5740\uff0c\u670d\u52a1\u5668\u7684\u516c\u94a5\uff0c\u7b7e\u540d\u9881\u53d1\u673a\u6784\u540d\u79f0\uff0c\u6765\u81ea\u7b7e\u540d\u9881\u53d1\u673a\u6784\u7684\u7b7e\u540d\u7b49\u5185\u5bb9\u3002 \u5ba2\u6237\u7aef\u4e0d\u76f4\u63a5\u83b7\u53d6\u670d\u52a1\u5668\u7684\u516c\u94a5\uff0c\u800c\u662f\u83b7\u53d6\u670d\u52a1\u5668\u7684\u7535\u5b50\u8bc1\u4e66\uff0c\u4e4b\u540e\u901a\u8fc7\u9a8c\u8bc1\u8bc1\u4e66\u4e3a\u53ef\u4fe1 CA \u7b7e\u540d\uff0c\u4e14\u4fe1\u606f\u4e0e\u670d\u52a1\u7aef\u543b\u5408\uff0c\u672a\u7be1\u6539\uff0c\u672a\u8fc7\u671f\uff0c\u4ece\u800c\u4ea7\u751f\u4fe1\u4efb\u5173\u7cfb\uff0c\u4e4b\u540e\u4ece\u8bc1\u4e66\u4e2d\u83b7\u53d6\u670d\u52a1\u5668\u516c\u94a5\u3002 \u5355\u5411\u8ba4\u8bc1\u4e0e\u53cc\u5411\u8ba4\u8bc1 ssl \u5355\u5411\u8ba4\u8bc1 \u5355\u5411\u8ba4\u8bc1\u662f\u6307\u4ec5\u9a8c\u8bc1\u670d\u52a1\u7aef\u7684\u8eab\u4efd\u3002 ssl \u53cc\u5411\u8ba4\u8bc1 \u53cc\u5411\u8ba4\u8bc1\u76f8\u6bd4\u4e8e\u5355\u5411\u8ba4\u8bc1\uff0c\u5ba2\u6237\u7aef\u9700\u8981\u5411\u670d\u52a1\u7aef\u63d0\u4f9b\u8bc1\u4e66\uff0c\u670d\u52a1\u7aef\u9700\u8981\u7528\u5ba2\u6237\u7aef\u7684\u8bc1\u4e66\u9a8c\u8bc1\u5ba2\u6237\u7aef\u8eab\u4efd\uff0c\u5e76\u4e14\u670d\u52a1\u7aef\u8fd4\u56de\u7684\u52a0\u5bc6\u7b97\u6cd5\u662f\u7528\u5ba2\u6237\u7aef\u7684\u516c\u94a5\u52a0\u5bc6\u540e\u53d1\u9001\u7ed9\u5ba2\u6237\u7aef\u7684 \u53c2\u8003 https://www.ruanyifeng.com/blog/2014/02/ssl_tls.html https://www.ruanyifeng.com/blog/2014/09/illustration-ssl.html https://blog.cloudflare.com/announcing-keyless-ssl-all-the-benefits-of-cloudflare-without-having-to-turn-over-your-private-ssl-keys/ https://blog.cloudflare.com/keyless-ssl-the-nitty-gritty-technical-details/","title":"1.3 SSL \u534f\u8bae"},{"location":"1-SSL%20%E5%8E%9F%E7%90%86%E6%A6%82%E8%BF%B0/3-SSL%20%E5%8D%8F%E8%AE%AE/#12-ssl","text":"SSL(Secure Sockets Layer) \u662f\u7531 Netscape \u516c\u53f8\u8bbe\u8ba1\uff0c\u7528\u4e8e\u4e3a\u7f51\u7edc\u901a\u4fe1\u63d0\u4f9b\u5b89\u5168\u53ca\u6570\u636e\u5b8c\u6574\u6027\u7684\u4e00\u79cd\u5b89\u5168\u534f\u8bae\uff0c\u968f\u7740 SSL \u7684\u5e7f\u6cdb\u5e94\u7528\u4e0e\u53d1\u5c55\uff0cSSL \u9010\u6e10\u6210\u4e3a\u4e92\u8054\u7f51\u7684\u4e00\u4e2a\u6807\u51c6\uff0c\u5e76\u66f4\u540d\u4e3a TLS(Transport Layer Security)\u3002 SSL \u534f\u8bae\u4e00\u822c\u4f4d\u4e8e TCP/IP \u534f\u8bae\u4e0e\u5404\u79cd\u5e94\u7528\u5c42\u534f\u8bae\u4e4b\u95f4\uff0c\u4e3a\u6570\u636e\u901a\u8baf\u63d0\u4f9b\u5b89\u5168\u652f\u6301\u3002","title":"1.2 SSL \u534f\u8bae"},{"location":"1-SSL%20%E5%8E%9F%E7%90%86%E6%A6%82%E8%BF%B0/3-SSL%20%E5%8D%8F%E8%AE%AE/#_1","text":"SSL \u534f\u8bae\u7684\u57fa\u672c\u601d\u8def\u662f\u5c06\u901a\u4fe1\u8fc7\u7a0b\u5206\u4e3a 2 \u4e2a\u9636\u6bb5\uff1a \u63e1\u624b\u9636\u6bb5\uff1a\u5229\u7528\u975e\u5bf9\u79f0\u52a0\u5bc6\u9a8c\u8bc1\u670d\u52a1\u7aef\u8eab\u4efd\uff0c\u5e76\u534f\u5546\u51fa\u4e00\u4e2a\u5bf9\u79f0\u52a0\u5bc6\u7b97\u6cd5\u4e0e\u5bc6\u94a5 \u8bb0\u5f55\u9636\u6bb5\uff1a\u5229\u7528\u63e1\u624b\u9636\u6bb5\u534f\u5546\u5f97\u5230\u7684\u5bf9\u79f0\u52a0\u5bc6\u7b97\u6cd5\u4e0e\u5bc6\u94a5\uff0c\u52a0\u5bc6\u901a\u4fe1\u5185\u5bb9","title":"\u57fa\u672c\u601d\u8def"},{"location":"1-SSL%20%E5%8E%9F%E7%90%86%E6%A6%82%E8%BF%B0/3-SSL%20%E5%8D%8F%E8%AE%AE/#_2","text":"\u8be6\u7ec6\u8fc7\u7a0b\u5982\u4e0b\uff1a client \u5411 server \u53d1\u9001\u52a0\u5bc6\u901a\u4fe1\u8bf7\u6c42\uff0c\u8bf7\u6c42\u4e2d\u643a\u5e26 client \u652f\u6301\u7684\u534f\u8bae\u7248\u672c\uff0cclient \u751f\u6210\u7684\u968f\u673a\u6570 client-random\uff0c\u52a0\u5bc6\u7b97\u6cd5\uff0c\u538b\u7f29\u65b9\u6cd5\u7b49\u5185\u5bb9 server \u9996\u5148\u4ece client \u53d1\u9001\u7684\u8bf7\u6c42\u4e2d\u9009\u62e9\u8981\u4f7f\u7528\u7684\u534f\u8bae\u7248\u672c\u4e0e\u52a0\u5bc6\u7b97\u6cd5\uff0c\u4e4b\u540e\u5411 client \u53d1\u9001\u54cd\u5e94\uff0c\u54cd\u5e94\u4e2d\u643a\u5e26\u8981\u4f7f\u7528\u7684\u534f\u8bae\u7248\u672c\u4e0e\u52a0\u5bc6\u7b97\u6cd5\uff0cserver \u751f\u6210\u7684\u968f\u673a\u6570 server-random \u4ee5\u53ca server \u7684\u6570\u5b57\u8bc1\u4e66 client \u6536\u5230 server \u7684\u54cd\u5e94\u540e \u9a8c\u8bc1 server \u6570\u5b57\u8bc1\u4e66\uff1a\u8bc1\u4e66\u662f\u4e0d\u662f\u53ef\u4fe1 CA \u53d1\u5e03\u7684\uff1b\u8bc1\u4e66\u4e2d\u7684\u57df\u540d\u4e0e server \u57df\u540d\u662f\u5426\u4e00\u81f4\uff1b\u8bc1\u4e66\u662f\u5426\u8fc7\u671f\uff1b \u5982\u679c\u8bc1\u4e66\u53ef\u4fe1\u6216\u8005 client \u63a5\u53d7\u4e86\u4e0d\u53ef\u4fe1\u7684\u8bc1\u4e66\uff0cclient \u4f1a\u4ece\u8bc1\u4e66\u4e2d\u83b7\u53d6 server \u516c\u94a5\uff0c\u5426\u5219\u63e1\u624b\u5931\u8d25\uff1b client \u4ea7\u751f\u4e00\u4e2a\u968f\u673a\u6570 pre-master-key\uff0c\u7528 server \u7684\u516c\u94a5\u52a0\u5bc6\u540e\u53d1\u9001\u7ed9 server client \u7528 client-random, server-random, pre-master-key \u8ba1\u7b97\u672c\u6b21\u4f1a\u8bdd\u4f7f\u7528\u7684\u5bc6\u94a5 server \u6536\u5230 client \u53d1\u9001\u7684\u516c\u94a5\u52a0\u5bc6\u7684 pre-master-key \u540e\uff0c\u7528\u81ea\u5df1\u7684\u79c1\u94a5\u89e3\u5bc6\uff0c\u7528 client-random, server-random, pre-master-key \u8ba1\u7b97\u672c\u6b21\u4f1a\u8bdd\u4f7f\u7528\u7684\u5bc6\u94a5 \u63e1\u624b\u7ed3\u675f\u540e\uff0cclient \u548c server \u4f7f\u7528\u63e1\u624b\u9636\u6bb5\u534f\u5546\u5f97\u5230\u7684\u52a0\u5bc6\u7b97\u6cd5\u4e0e\u4f1a\u8bdd\u5bc6\u94a5\u8fdb\u884c\u5bf9\u79f0\u52a0\u89e3\u5bc6\u7684\u4f20\u8f93\u3002 \u63e1\u624b\u9636\u6bb5\u4f20\u8f93\u5185\u5bb9\u662f\u660e\u6587\u7684\uff08\u6ca1\u6cd5\u52a0\u5bc6\uff09\uff0c\u5982\u679c\u7b2c\u4e09\u65b9\u7a83\u542c\uff0c\u4ed6\u53ef\u4ee5\u83b7\u53d6\u53cc\u65b9\u9009\u62e9\u7684\u52a0\u5bc6\u7b97\u6cd5\uff0cclient-random \u548c server-random\u3002\u4f46\u662f pre-master-key \u662f\u4f7f\u7528 server \u516c\u94a5\u52a0\u5bc6\u7684\uff0c\u5982\u679c\u7b2c\u4e09\u65b9\u65e0\u6cd5\u7834\u89e3\u51fa pre-master-key\uff0c\u5219\u65e0\u6cd5\u5f97\u5230\u4f1a\u8bdd\u5bc6\u94a5\uff0c\u4f1a\u8bdd\u4ecd\u662f\u5b89\u5168\u7684\u3002","title":"\u8be6\u7ec6\u8fc7\u7a0b"},{"location":"1-SSL%20%E5%8E%9F%E7%90%86%E6%A6%82%E8%BF%B0/3-SSL%20%E5%8D%8F%E8%AE%AE/#_3","text":"\u5728\u8fd9\u4e2a\u8fc7\u7a0b\u4e2d\uff0c\u4e3a\u4e86\u907f\u514d\u4e2d\u95f4\u4eba\u5192\u5145\u670d\u52a1\u7aef\uff0c\u63d0\u4f9b\u865a\u5047\u7684\u516c\u94a5\uff0c\u670d\u52a1\u7aef\u9700\u8981\u7528\u81ea\u5df1\u7684\u4fe1\u606f\u5411 CA \u7533\u8bf7 SSL \u8bc1\u4e66\u3002CA \u4f1a\u901a\u8fc7\u81ea\u5df1\u7684\u79c1\u94a5\u5c06\u7f51\u7ad9\u7684\u516c\u94a5\u548c\u7f51\u7ad9\u7684\u5404\u79cd\u76f8\u5173\u4fe1\u606f\uff0c\u6bd4\u5982\u57df\u540d\u7b49\u8fdb\u884c\u7b7e\u540d\uff0c\u5f62\u6210\u7535\u5b50\u8bc1\u4e66\uff0c\u9881\u53d1\u7ed9\u7533\u8bf7\u8005\u3002 \u8bc1\u4e66\u4e2d\u5305\u542b\u4e86\u670d\u52a1\u5668\u7684\u540d\u79f0\u548c\u5730\u5740\uff0c\u670d\u52a1\u5668\u7684\u516c\u94a5\uff0c\u7b7e\u540d\u9881\u53d1\u673a\u6784\u540d\u79f0\uff0c\u6765\u81ea\u7b7e\u540d\u9881\u53d1\u673a\u6784\u7684\u7b7e\u540d\u7b49\u5185\u5bb9\u3002 \u5ba2\u6237\u7aef\u4e0d\u76f4\u63a5\u83b7\u53d6\u670d\u52a1\u5668\u7684\u516c\u94a5\uff0c\u800c\u662f\u83b7\u53d6\u670d\u52a1\u5668\u7684\u7535\u5b50\u8bc1\u4e66\uff0c\u4e4b\u540e\u901a\u8fc7\u9a8c\u8bc1\u8bc1\u4e66\u4e3a\u53ef\u4fe1 CA \u7b7e\u540d\uff0c\u4e14\u4fe1\u606f\u4e0e\u670d\u52a1\u7aef\u543b\u5408\uff0c\u672a\u7be1\u6539\uff0c\u672a\u8fc7\u671f\uff0c\u4ece\u800c\u4ea7\u751f\u4fe1\u4efb\u5173\u7cfb\uff0c\u4e4b\u540e\u4ece\u8bc1\u4e66\u4e2d\u83b7\u53d6\u670d\u52a1\u5668\u516c\u94a5\u3002","title":"\u8bc1\u4e66\u7684\u4f5c\u7528"},{"location":"1-SSL%20%E5%8E%9F%E7%90%86%E6%A6%82%E8%BF%B0/3-SSL%20%E5%8D%8F%E8%AE%AE/#_4","text":"","title":"\u5355\u5411\u8ba4\u8bc1\u4e0e\u53cc\u5411\u8ba4\u8bc1"},{"location":"1-SSL%20%E5%8E%9F%E7%90%86%E6%A6%82%E8%BF%B0/3-SSL%20%E5%8D%8F%E8%AE%AE/#ssl","text":"\u5355\u5411\u8ba4\u8bc1\u662f\u6307\u4ec5\u9a8c\u8bc1\u670d\u52a1\u7aef\u7684\u8eab\u4efd\u3002","title":"ssl \u5355\u5411\u8ba4\u8bc1"},{"location":"1-SSL%20%E5%8E%9F%E7%90%86%E6%A6%82%E8%BF%B0/3-SSL%20%E5%8D%8F%E8%AE%AE/#ssl_1","text":"\u53cc\u5411\u8ba4\u8bc1\u76f8\u6bd4\u4e8e\u5355\u5411\u8ba4\u8bc1\uff0c\u5ba2\u6237\u7aef\u9700\u8981\u5411\u670d\u52a1\u7aef\u63d0\u4f9b\u8bc1\u4e66\uff0c\u670d\u52a1\u7aef\u9700\u8981\u7528\u5ba2\u6237\u7aef\u7684\u8bc1\u4e66\u9a8c\u8bc1\u5ba2\u6237\u7aef\u8eab\u4efd\uff0c\u5e76\u4e14\u670d\u52a1\u7aef\u8fd4\u56de\u7684\u52a0\u5bc6\u7b97\u6cd5\u662f\u7528\u5ba2\u6237\u7aef\u7684\u516c\u94a5\u52a0\u5bc6\u540e\u53d1\u9001\u7ed9\u5ba2\u6237\u7aef\u7684","title":"ssl \u53cc\u5411\u8ba4\u8bc1"},{"location":"1-SSL%20%E5%8E%9F%E7%90%86%E6%A6%82%E8%BF%B0/3-SSL%20%E5%8D%8F%E8%AE%AE/#_5","text":"https://www.ruanyifeng.com/blog/2014/02/ssl_tls.html https://www.ruanyifeng.com/blog/2014/09/illustration-ssl.html https://blog.cloudflare.com/announcing-keyless-ssl-all-the-benefits-of-cloudflare-without-having-to-turn-over-your-private-ssl-keys/ https://blog.cloudflare.com/keyless-ssl-the-nitty-gritty-technical-details/","title":"\u53c2\u8003"},{"location":"2-%E5%BA%94%E7%94%A8/","text":"","title":"2. \u5e94\u7528"},{"location":"2-%E5%BA%94%E7%94%A8/1-SSH%20%E7%99%BB%E5%BD%95/","text":"2.1 SSH \u767b\u5f55 \u767b\u5f55\u8fdc\u7a0b\u4e3b\u673a \u8fdc\u7a0b\u767b\u5f55\u4e3b\u673a\"host\"\u65f6\uff0c\u5728\u672c\u5730\u8f93\u5165\u547d\u4ee4(host_name\u53ef\u4ee5\u662f\u4e3b\u673a\u7684ip\u5730\u5740): $ ssh user_name@host_name \u8bf7\u6c42\u767b\u5f55host\uff0c\u8fd9\u65f6\u4f1a\u8be2\u95ee\u662f\u5426\u63a5\u53d7host\u7684\u516c\u94a5\uff0c\u63a5\u6536\u540e\u4f1a\u8981\u6c42\u8f93\u5165\u4f60\u7684\u767b\u5f55\u5bc6\u7801\uff0c\u8f93\u5165\u7684\u5bc6\u7801\u4f1a\u7528host\u7684\u516c\u94a5\u8fdb\u884c\u52a0\u5bc6\uff0chost\u63a5\u6536\u52a0\u5bc6\u540e\u7684\u767b\u5f55\u4fe1\u606f\u540e\uff0c\u4f1a\u7528\u81ea\u5df1\u7684\u79c1\u94a5\u89e3\u5bc6\uff0c\u786e\u8ba4\u540e\u4f1a\u5141\u8bb8\u767b\u5f55\u3002\u8fd9\u6837\u4f60\u7684\u767b\u5f55\u4fe1\u606f\u5c31\u4e0d\u4f1a\u6cc4\u9732\u7ed9\u4ed6\u4eba(\u5373\u4fbf\u88ab\u4ed6\u4eba\u622a\u83b7\u767b\u5f55\u4fe1\u606f\uff0c\u4f46\u65e0host\u79c1\u94a5\uff0c\u6240\u4ee5\u65e0\u6cd5\u83b7\u5f97\u4f60\u7684\u767b\u5f55\u4fe1\u606f)\u3002 \u514d\u5bc6\u767b\u5f55 \u751f\u6210\u81ea\u5df1\u7684\u516c\u94a5\u4e0e\u79c1\u94a5 \u5728\u672c\u5730\u8f93\u5165\u547d\u4ee4: $ ssh-keygen -t rsa -C \"you-key-comment\" \u4f1a\u5728\u5728\u76ee\u5f55 ~/.ssh \u4e2d\u751f\u6210\u79c1\u94a5: id_rsa , \u516c\u94a5: id_rsa.pub \u3002 \u4e0a\u4f20\u516c\u94a5\u4e0e\u514d\u5bc6\u7801\u767b\u5f55(\u6570\u5b57\u7b7e\u540d) \u8f93\u5165\u547d\u4ee4\u4e0a\u4f20\u516c\u94a5\u5230host: $ ssh-copy-id user_name@host_name host\u4f1a\u6700\u540e\u4e00\u6b21\u8981\u6c42\u4f60\u8f93\u5165\u5bc6\u7801\u786e\u8ba4\u8eab\u4efd\uff0c\u5bc6\u7801\u6b63\u786e\u540e\u4f1a\u5c06\u516c\u94a5\u52a0\u5230host\u7684 /home/user_name/.ssh/authorized_keys \u6587\u4ef6\u4e2d\uff0c\u6b64\u540e\u4f60\u518d\u6b21\u767b\u5f55\u65f6\uff0chost\u4f1a\u5411\u4f60\u53d1\u9001\u4fe1\u606f\uff0c\u4f60\u7528\u81ea\u5df1\u7684\u79c1\u94a5\u8fdb\u884c\u6570\u5b57\u7b7e\u540d\u540e\u53d1\u9001\u7ed9host\uff0chost\u7528\u4f60\u7684\u516c\u94a5\u8fdb\u884c\u9a8c\u8bc1\uff0c\u9a8c\u8bc1\u6210\u529f\u540e\u4f1a\u5141\u8bb8\u767b\u5f55\uff0c\u4e0d\u9700\u8981\u8f93\u5165\u5bc6\u7801\u3002","title":"2.1 SSH \u767b\u5f55"},{"location":"2-%E5%BA%94%E7%94%A8/1-SSH%20%E7%99%BB%E5%BD%95/#21-ssh","text":"","title":"2.1 SSH \u767b\u5f55"},{"location":"2-%E5%BA%94%E7%94%A8/1-SSH%20%E7%99%BB%E5%BD%95/#_1","text":"\u8fdc\u7a0b\u767b\u5f55\u4e3b\u673a\"host\"\u65f6\uff0c\u5728\u672c\u5730\u8f93\u5165\u547d\u4ee4(host_name\u53ef\u4ee5\u662f\u4e3b\u673a\u7684ip\u5730\u5740): $ ssh user_name@host_name \u8bf7\u6c42\u767b\u5f55host\uff0c\u8fd9\u65f6\u4f1a\u8be2\u95ee\u662f\u5426\u63a5\u53d7host\u7684\u516c\u94a5\uff0c\u63a5\u6536\u540e\u4f1a\u8981\u6c42\u8f93\u5165\u4f60\u7684\u767b\u5f55\u5bc6\u7801\uff0c\u8f93\u5165\u7684\u5bc6\u7801\u4f1a\u7528host\u7684\u516c\u94a5\u8fdb\u884c\u52a0\u5bc6\uff0chost\u63a5\u6536\u52a0\u5bc6\u540e\u7684\u767b\u5f55\u4fe1\u606f\u540e\uff0c\u4f1a\u7528\u81ea\u5df1\u7684\u79c1\u94a5\u89e3\u5bc6\uff0c\u786e\u8ba4\u540e\u4f1a\u5141\u8bb8\u767b\u5f55\u3002\u8fd9\u6837\u4f60\u7684\u767b\u5f55\u4fe1\u606f\u5c31\u4e0d\u4f1a\u6cc4\u9732\u7ed9\u4ed6\u4eba(\u5373\u4fbf\u88ab\u4ed6\u4eba\u622a\u83b7\u767b\u5f55\u4fe1\u606f\uff0c\u4f46\u65e0host\u79c1\u94a5\uff0c\u6240\u4ee5\u65e0\u6cd5\u83b7\u5f97\u4f60\u7684\u767b\u5f55\u4fe1\u606f)\u3002","title":"\u767b\u5f55\u8fdc\u7a0b\u4e3b\u673a"},{"location":"2-%E5%BA%94%E7%94%A8/1-SSH%20%E7%99%BB%E5%BD%95/#_2","text":"","title":"\u514d\u5bc6\u767b\u5f55"},{"location":"2-%E5%BA%94%E7%94%A8/1-SSH%20%E7%99%BB%E5%BD%95/#_3","text":"\u5728\u672c\u5730\u8f93\u5165\u547d\u4ee4: $ ssh-keygen -t rsa -C \"you-key-comment\" \u4f1a\u5728\u5728\u76ee\u5f55 ~/.ssh \u4e2d\u751f\u6210\u79c1\u94a5: id_rsa , \u516c\u94a5: id_rsa.pub \u3002","title":"\u751f\u6210\u81ea\u5df1\u7684\u516c\u94a5\u4e0e\u79c1\u94a5"},{"location":"2-%E5%BA%94%E7%94%A8/1-SSH%20%E7%99%BB%E5%BD%95/#_4","text":"\u8f93\u5165\u547d\u4ee4\u4e0a\u4f20\u516c\u94a5\u5230host: $ ssh-copy-id user_name@host_name host\u4f1a\u6700\u540e\u4e00\u6b21\u8981\u6c42\u4f60\u8f93\u5165\u5bc6\u7801\u786e\u8ba4\u8eab\u4efd\uff0c\u5bc6\u7801\u6b63\u786e\u540e\u4f1a\u5c06\u516c\u94a5\u52a0\u5230host\u7684 /home/user_name/.ssh/authorized_keys \u6587\u4ef6\u4e2d\uff0c\u6b64\u540e\u4f60\u518d\u6b21\u767b\u5f55\u65f6\uff0chost\u4f1a\u5411\u4f60\u53d1\u9001\u4fe1\u606f\uff0c\u4f60\u7528\u81ea\u5df1\u7684\u79c1\u94a5\u8fdb\u884c\u6570\u5b57\u7b7e\u540d\u540e\u53d1\u9001\u7ed9host\uff0chost\u7528\u4f60\u7684\u516c\u94a5\u8fdb\u884c\u9a8c\u8bc1\uff0c\u9a8c\u8bc1\u6210\u529f\u540e\u4f1a\u5141\u8bb8\u767b\u5f55\uff0c\u4e0d\u9700\u8981\u8f93\u5165\u5bc6\u7801\u3002","title":"\u4e0a\u4f20\u516c\u94a5\u4e0e\u514d\u5bc6\u7801\u767b\u5f55(\u6570\u5b57\u7b7e\u540d)"},{"location":"2-%E5%BA%94%E7%94%A8/2-https/","text":"2.2 https \u6982\u8ff0 HTTPS \u662f HTTP \u534f\u8bae\u4e0e SSL/TLS \u534f\u8bae\u7684\u7ec4\u5408\uff0c\u8fd9\u91cc SSL \u4f5c\u4e3a\u4e00\u79cd\u5b89\u5168\u534f\u8bae\uff0c\u5b83\u5728\u4f20\u8f93\u5c42\u63d0\u4f9b\u5bf9\u7f51\u7edc\u8fde\u63a5\u52a0\u5bc6\u7684\u529f\u80fd\u3002\u5bf9\u4e8e\u5e94\u7528\u5c42\u800c\u8a00\uff0c\u5b83\u662f\u900f\u660e\u7684\uff0c\u6570\u636e\u5728\u4f20\u9012\u5230\u5e94\u7528\u5c42\u4e4b\u524d\u5c31\u5df2\u7ecf\u5b8c\u6210\u4e86\u52a0\u5bc6\u548c\u89e3\u5bc6\u7684\u8fc7\u7a0b\u3002 HTTPS \u7684\u534f\u8bae\u6808\u662f\u8fd9\u6837\u7684\uff1a HTTP HTTP | ^ v | SSL/TLS SSL/TLS | ^ v | TCP TCP | ^ v | IP ------> IP","title":"2.2 https"},{"location":"2-%E5%BA%94%E7%94%A8/2-https/#22-https","text":"","title":"2.2 https"},{"location":"2-%E5%BA%94%E7%94%A8/2-https/#_1","text":"HTTPS \u662f HTTP \u534f\u8bae\u4e0e SSL/TLS \u534f\u8bae\u7684\u7ec4\u5408\uff0c\u8fd9\u91cc SSL \u4f5c\u4e3a\u4e00\u79cd\u5b89\u5168\u534f\u8bae\uff0c\u5b83\u5728\u4f20\u8f93\u5c42\u63d0\u4f9b\u5bf9\u7f51\u7edc\u8fde\u63a5\u52a0\u5bc6\u7684\u529f\u80fd\u3002\u5bf9\u4e8e\u5e94\u7528\u5c42\u800c\u8a00\uff0c\u5b83\u662f\u900f\u660e\u7684\uff0c\u6570\u636e\u5728\u4f20\u9012\u5230\u5e94\u7528\u5c42\u4e4b\u524d\u5c31\u5df2\u7ecf\u5b8c\u6210\u4e86\u52a0\u5bc6\u548c\u89e3\u5bc6\u7684\u8fc7\u7a0b\u3002 HTTPS \u7684\u534f\u8bae\u6808\u662f\u8fd9\u6837\u7684\uff1a HTTP HTTP | ^ v | SSL/TLS SSL/TLS | ^ v | TCP TCP | ^ v | IP ------> IP","title":"\u6982\u8ff0"},{"location":"3-%E5%AE%9E%E8%B7%B5%E6%89%8B%E5%86%8C/","text":"","title":"3. \u5b9e\u8df5\u624b\u518c"},{"location":"3-%E5%AE%9E%E8%B7%B5%E6%89%8B%E5%86%8C/1-OpenSSL%20%E6%89%8B%E5%86%8C/","text":"openssl OpenSSL \u5b9e\u7528\u7a0b\u5e8f\u53ef\u5728\u547d\u4ee4\u884c\u4f7f\u7528\uff0c\u7a0b\u5e8f\u4e5f\u53ef\u4ee5\u8c03\u7528 OpenSSL \u5e93\u4e2d\u7684\u51fd\u6570\u3002 \u547d\u4ee4 \u67e5\u770b\u7248\u672c\uff1a $ openssl version OpenSSL 1.0.0-fips 29 Mar 2010 \u5e38\u7528\uff1a genrsa: \u751f\u6210 rsa \u5bc6\u94a5\u5bf9 req x509 rsa ca \u751f\u6210 rsa \u5bc6\u94a5\u5bf9 openssl genrsa [args] [numbits] args1 \u5bf9\u751f\u6210\u7684\u79c1\u94a5\u6587\u4ef6\u662f\u5426\u8981\u4f7f\u7528\u52a0\u5bc6\u7b97\u6cd5\u8fdb\u884c\u5bf9\u79f0\u52a0\u5bc6\uff1a -des -des3 -aes128 -aes192 -aes256 args2 \u5bf9\u79f0\u52a0\u5bc6\u5bc6\u7801(\u53ef\u4ee5\u7701\u53bb console \u4ea4\u4e92\u63d0\u793a\u8f93\u5165\u5bc6\u7801\u7684\u73af\u8282) -passout pass:password args3 \u8f93\u51fa\u6587\u4ef6 -out file numbits \u5bc6\u94a5\u957f\u5ea6 \u751f\u6210 2048 bit \u7684 rsa \u79c1\u94a5\uff1a openssl genrsa -out server.key 2048 \u5728\u751f\u6210 rsa \u79c1\u94a5\u65f6\u4f7f\u7528 aes128 \u5bf9\u79f0\u5bc6\u94a5\u7b97\u6cd5\u52a0\u5bc6\u751f\u6210\u7684\u79c1\u94a5\uff08\u4f1a\u63d0\u793a\u8f93\u5165\u5bc6\u7801\uff0c\u4e4b\u540e\u4f7f\u7528\u7684\u65f6\u5019\u5fc5\u987b\u8f93\u5165\u8be5\u5bc6\u7801\uff09 openssl genrsa -aes128 -out server.key 2048 \u53ef\u4ee5\u76f4\u63a5\u6307\u5b9a\u5bc6\u7801 openssl genrsa -aes128 -passout pass:password -out server.key 2048 \u63d0\u53d6\u79c1\u94a5\u5bf9\u5e94\u7684 ras \u516c\u94a5\uff1a openssl rsa -in server.key -pubout -out server.pem \u516c\u94a5/\u79c1\u94a5\u4ee5 pem \u683c\u5f0f\u5b58\u50a8\uff0c\u8be5\u683c\u5f0f\u4ec5\u5305\u542b\u6587\u672c \u751f\u6210 csr (certificate sign request) \u6587\u4ef6 openssl req [args] outfile \u6839\u636e\u79c1\u94a5\u751f\u6210 csr \u6587\u4ef6\uff1a openssl req -new -key ca.key -out ca.csr openssl req -new -key -nodes server.key -subj \"/CN=localhost\" -out server.csr openssl req -new -key -nodes -x509 ca-key.pem -days 10000 -out ca.pem -subj \"/CN=kube-ca\" -new : new request -key file : use the private key contained in file -nodes : don't encrypt the output key -subj arg : set or modify request subject -out arg : output file -x509 : output a x509 structure instead of a cert. req. -days : number of days a certificate generated by -x509 is valid for. \u751f\u6210\u7b7e\u540d\u8bc1\u4e66 \u7528\u79c1\u94a5\u5bf9 csr \u6587\u4ef6\u7b7e\u540d\uff1a \u81ea\u7b7e\u540d openssl x509 -req -in ca.csr -signkey ca.key -out ca.crt openssl x509 -req -sha256 -days 365 -in server.csr -signkey server.key -out server.crt ca \u7b7e\u540d openssl x509 -req -in apiserver.csr -CA ca.pem -CAkey ca-key.pem -CAcreateserial -out apiserver.pem -days 365 -extensions v3_req -req : input is a certificate request, sign and output. -in arg : input file - default stdin -out arg : output file - default stdout -days arg : How long till expiry of a signed certificate - def 30 days -signkey arg : self sign cert with arg -CA arg : set the CA certificate, must be PEM format. -CAkey arg : set the CA key, must be PEM format missing, it is assumed to be in the CA file. -CAcreateserial : create serial number file if it does not exist \u5bc6\u7801\u5957\u4ef6 \u5bc6\u7801\u5957\u4ef6 \u975e\u5bf9\u79f0\u52a0\u5bc6\u7b97\u6cd5 \u5bf9\u79f0\u52a0\u5bc6\u7b97\u6cd5 \u6570\u636e\u6458\u8981\u7b97\u6cd5 TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256 TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256 TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256 TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256 \u5bc6\u94a5\u4ea4\u6362\u7b97\u6cd5\uff08RSA\u3001DH\u3001ECDH\u3001PSK\uff09 \u8eab\u4efd\u9a8c\u8bc1\u7b97\u6cd5\uff08RSA\u3001DSA\uff09 \u6279\u91cf\u52a0\u5bc6\u7b97\u6cd5\uff08AES\u3001Camellia\u3001ARIA\uff09 \u6d88\u606f\u8eab\u4efd\u9a8c\u8bc1\u7801\u7b97\u6cd5\uff08SHA-256\uff09 \u95ee\u9898 ee key too small \u95ee\u9898 \u539f\u56e0\uff1aOpenSSL 1.1.1k \u4e4b\u540e\uff0c1024 bit \u957f\u5ea6\u4e0d\u518d\u88ab\u662f\u4e3a\u5b89\u5168 3 \u79cd\u89e3\u51b3\u65b9\u6cd5\uff1a \u964d\u4f4e openssl \u7248\u672c\u5230 1.1.1k \u4e4b\u4e0b \u4fee\u6539 openssl \u914d\u7f6e\u6587\u4ef6 openssl.cnf \uff0c\u5c06 CipherString = DEFAULT@SECLEVEL=2 \u6539\u4e3a CipherString = DEFAULT@SECLEVEL=1 ( sed -i 's/DEFAULT@SECLEVEL=2/DEFAULT@SECLEVEL=1/' /etc/ssl/openssl.cnf ) \u91cd\u65b0\u751f\u6210\u8bc1\u4e66 \u53c2\u8003 https://discuss.aerospike.com/t/ssl-key-too-small-error-on-startup/8075 > This is an SSL error message. The reason the error is shown is because as of openSSL 1.1.0k, 1024 bit certificates were no longer considered secure and will therefore be rejected. https://github.com/jfromaniello/selfsigned/issues/33 > Only way around it is to modify: /etc/ssl/openssl.cnf and change: > > CipherString = DEFAULT@SECLEVEL=2 > to > CipherString = DEFAULT@SECLEVEL=1 > > I believe the issue is the referenced issue above and generating the client certificates as 1024 bit. SECLEVEL=2 requires minimum of 2048 bit. https://github.com/debauchee/barrier/issues/126 > It is just a matter of editing file /etc/ssl/openssl.cnf changing last line > from: > CipherString = DEFAULT@SECLEVEL=2 > to > CipherString = DEFAULT@SECLEVEL=1 https://unix.stackexchange.com/questions/537279/overriding-openssl-cipherstring-at-a-more-granular-level-in-debian-10 https://www.openssl.org/news/cl110.txt SSL routines:ssl3_get_record:wrong version number \u539f\u56e0\uff1a1.1.0 \u9ed8\u8ba4\u7981\u6b62\u4f7f\u7528 DSS cipher \u53c2\u8003 https://github.com/openssl/openssl/issues/6289 https://github.com/Shopify/sarama/issues/643","title":"3.1 OpenSSL \u624b\u518c"},{"location":"3-%E5%AE%9E%E8%B7%B5%E6%89%8B%E5%86%8C/1-OpenSSL%20%E6%89%8B%E5%86%8C/#openssl","text":"OpenSSL \u5b9e\u7528\u7a0b\u5e8f\u53ef\u5728\u547d\u4ee4\u884c\u4f7f\u7528\uff0c\u7a0b\u5e8f\u4e5f\u53ef\u4ee5\u8c03\u7528 OpenSSL \u5e93\u4e2d\u7684\u51fd\u6570\u3002","title":"openssl"},{"location":"3-%E5%AE%9E%E8%B7%B5%E6%89%8B%E5%86%8C/1-OpenSSL%20%E6%89%8B%E5%86%8C/#_1","text":"\u67e5\u770b\u7248\u672c\uff1a $ openssl version OpenSSL 1.0.0-fips 29 Mar 2010 \u5e38\u7528\uff1a genrsa: \u751f\u6210 rsa \u5bc6\u94a5\u5bf9 req x509 rsa ca","title":"\u547d\u4ee4"},{"location":"3-%E5%AE%9E%E8%B7%B5%E6%89%8B%E5%86%8C/1-OpenSSL%20%E6%89%8B%E5%86%8C/#rsa","text":"openssl genrsa [args] [numbits] args1 \u5bf9\u751f\u6210\u7684\u79c1\u94a5\u6587\u4ef6\u662f\u5426\u8981\u4f7f\u7528\u52a0\u5bc6\u7b97\u6cd5\u8fdb\u884c\u5bf9\u79f0\u52a0\u5bc6\uff1a -des -des3 -aes128 -aes192 -aes256 args2 \u5bf9\u79f0\u52a0\u5bc6\u5bc6\u7801(\u53ef\u4ee5\u7701\u53bb console \u4ea4\u4e92\u63d0\u793a\u8f93\u5165\u5bc6\u7801\u7684\u73af\u8282) -passout pass:password args3 \u8f93\u51fa\u6587\u4ef6 -out file numbits \u5bc6\u94a5\u957f\u5ea6 \u751f\u6210 2048 bit \u7684 rsa \u79c1\u94a5\uff1a openssl genrsa -out server.key 2048 \u5728\u751f\u6210 rsa \u79c1\u94a5\u65f6\u4f7f\u7528 aes128 \u5bf9\u79f0\u5bc6\u94a5\u7b97\u6cd5\u52a0\u5bc6\u751f\u6210\u7684\u79c1\u94a5\uff08\u4f1a\u63d0\u793a\u8f93\u5165\u5bc6\u7801\uff0c\u4e4b\u540e\u4f7f\u7528\u7684\u65f6\u5019\u5fc5\u987b\u8f93\u5165\u8be5\u5bc6\u7801\uff09 openssl genrsa -aes128 -out server.key 2048 \u53ef\u4ee5\u76f4\u63a5\u6307\u5b9a\u5bc6\u7801 openssl genrsa -aes128 -passout pass:password -out server.key 2048 \u63d0\u53d6\u79c1\u94a5\u5bf9\u5e94\u7684 ras \u516c\u94a5\uff1a openssl rsa -in server.key -pubout -out server.pem \u516c\u94a5/\u79c1\u94a5\u4ee5 pem \u683c\u5f0f\u5b58\u50a8\uff0c\u8be5\u683c\u5f0f\u4ec5\u5305\u542b\u6587\u672c","title":"\u751f\u6210 rsa \u5bc6\u94a5\u5bf9"},{"location":"3-%E5%AE%9E%E8%B7%B5%E6%89%8B%E5%86%8C/1-OpenSSL%20%E6%89%8B%E5%86%8C/#csr-certificate-sign-request","text":"openssl req [args] outfile \u6839\u636e\u79c1\u94a5\u751f\u6210 csr \u6587\u4ef6\uff1a openssl req -new -key ca.key -out ca.csr openssl req -new -key -nodes server.key -subj \"/CN=localhost\" -out server.csr openssl req -new -key -nodes -x509 ca-key.pem -days 10000 -out ca.pem -subj \"/CN=kube-ca\" -new : new request -key file : use the private key contained in file -nodes : don't encrypt the output key -subj arg : set or modify request subject -out arg : output file -x509 : output a x509 structure instead of a cert. req. -days : number of days a certificate generated by -x509 is valid for.","title":"\u751f\u6210 csr (certificate sign request) \u6587\u4ef6"},{"location":"3-%E5%AE%9E%E8%B7%B5%E6%89%8B%E5%86%8C/1-OpenSSL%20%E6%89%8B%E5%86%8C/#_2","text":"\u7528\u79c1\u94a5\u5bf9 csr \u6587\u4ef6\u7b7e\u540d\uff1a","title":"\u751f\u6210\u7b7e\u540d\u8bc1\u4e66"},{"location":"3-%E5%AE%9E%E8%B7%B5%E6%89%8B%E5%86%8C/1-OpenSSL%20%E6%89%8B%E5%86%8C/#_3","text":"openssl x509 -req -in ca.csr -signkey ca.key -out ca.crt openssl x509 -req -sha256 -days 365 -in server.csr -signkey server.key -out server.crt","title":"\u81ea\u7b7e\u540d"},{"location":"3-%E5%AE%9E%E8%B7%B5%E6%89%8B%E5%86%8C/1-OpenSSL%20%E6%89%8B%E5%86%8C/#ca","text":"openssl x509 -req -in apiserver.csr -CA ca.pem -CAkey ca-key.pem -CAcreateserial -out apiserver.pem -days 365 -extensions v3_req -req : input is a certificate request, sign and output. -in arg : input file - default stdin -out arg : output file - default stdout -days arg : How long till expiry of a signed certificate - def 30 days -signkey arg : self sign cert with arg -CA arg : set the CA certificate, must be PEM format. -CAkey arg : set the CA key, must be PEM format missing, it is assumed to be in the CA file. -CAcreateserial : create serial number file if it does not exist","title":"ca \u7b7e\u540d"},{"location":"3-%E5%AE%9E%E8%B7%B5%E6%89%8B%E5%86%8C/1-OpenSSL%20%E6%89%8B%E5%86%8C/#_4","text":"\u5bc6\u7801\u5957\u4ef6 \u975e\u5bf9\u79f0\u52a0\u5bc6\u7b97\u6cd5 \u5bf9\u79f0\u52a0\u5bc6\u7b97\u6cd5 \u6570\u636e\u6458\u8981\u7b97\u6cd5 TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256 TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256 TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256 TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256 \u5bc6\u94a5\u4ea4\u6362\u7b97\u6cd5\uff08RSA\u3001DH\u3001ECDH\u3001PSK\uff09 \u8eab\u4efd\u9a8c\u8bc1\u7b97\u6cd5\uff08RSA\u3001DSA\uff09 \u6279\u91cf\u52a0\u5bc6\u7b97\u6cd5\uff08AES\u3001Camellia\u3001ARIA\uff09 \u6d88\u606f\u8eab\u4efd\u9a8c\u8bc1\u7801\u7b97\u6cd5\uff08SHA-256\uff09","title":"\u5bc6\u7801\u5957\u4ef6"},{"location":"3-%E5%AE%9E%E8%B7%B5%E6%89%8B%E5%86%8C/1-OpenSSL%20%E6%89%8B%E5%86%8C/#_5","text":"","title":"\u95ee\u9898"},{"location":"3-%E5%AE%9E%E8%B7%B5%E6%89%8B%E5%86%8C/1-OpenSSL%20%E6%89%8B%E5%86%8C/#ee-key-too-small","text":"\u539f\u56e0\uff1aOpenSSL 1.1.1k \u4e4b\u540e\uff0c1024 bit \u957f\u5ea6\u4e0d\u518d\u88ab\u662f\u4e3a\u5b89\u5168 3 \u79cd\u89e3\u51b3\u65b9\u6cd5\uff1a \u964d\u4f4e openssl \u7248\u672c\u5230 1.1.1k \u4e4b\u4e0b \u4fee\u6539 openssl \u914d\u7f6e\u6587\u4ef6 openssl.cnf \uff0c\u5c06 CipherString = DEFAULT@SECLEVEL=2 \u6539\u4e3a CipherString = DEFAULT@SECLEVEL=1 ( sed -i 's/DEFAULT@SECLEVEL=2/DEFAULT@SECLEVEL=1/' /etc/ssl/openssl.cnf ) \u91cd\u65b0\u751f\u6210\u8bc1\u4e66","title":"ee key too small \u95ee\u9898"},{"location":"3-%E5%AE%9E%E8%B7%B5%E6%89%8B%E5%86%8C/1-OpenSSL%20%E6%89%8B%E5%86%8C/#_6","text":"https://discuss.aerospike.com/t/ssl-key-too-small-error-on-startup/8075 > This is an SSL error message. The reason the error is shown is because as of openSSL 1.1.0k, 1024 bit certificates were no longer considered secure and will therefore be rejected. https://github.com/jfromaniello/selfsigned/issues/33 > Only way around it is to modify: /etc/ssl/openssl.cnf and change: > > CipherString = DEFAULT@SECLEVEL=2 > to > CipherString = DEFAULT@SECLEVEL=1 > > I believe the issue is the referenced issue above and generating the client certificates as 1024 bit. SECLEVEL=2 requires minimum of 2048 bit. https://github.com/debauchee/barrier/issues/126 > It is just a matter of editing file /etc/ssl/openssl.cnf changing last line > from: > CipherString = DEFAULT@SECLEVEL=2 > to > CipherString = DEFAULT@SECLEVEL=1 https://unix.stackexchange.com/questions/537279/overriding-openssl-cipherstring-at-a-more-granular-level-in-debian-10 https://www.openssl.org/news/cl110.txt","title":"\u53c2\u8003"},{"location":"3-%E5%AE%9E%E8%B7%B5%E6%89%8B%E5%86%8C/1-OpenSSL%20%E6%89%8B%E5%86%8C/#ssl-routinesssl3_get_recordwrong-version-number","text":"\u539f\u56e0\uff1a1.1.0 \u9ed8\u8ba4\u7981\u6b62\u4f7f\u7528 DSS cipher","title":"SSL routines:ssl3_get_record:wrong version number"},{"location":"3-%E5%AE%9E%E8%B7%B5%E6%89%8B%E5%86%8C/1-OpenSSL%20%E6%89%8B%E5%86%8C/#_7","text":"https://github.com/openssl/openssl/issues/6289 https://github.com/Shopify/sarama/issues/643","title":"\u53c2\u8003"},{"location":"3-%E5%AE%9E%E8%B7%B5%E6%89%8B%E5%86%8C/2-keytool%20%E6%89%8B%E5%86%8C/","text":"\u67e5\u770b\u8bc1\u4e66\u5185\u5bb9\uff1a keytool -list -v -keystore client.keystore.jkskeytool -list -v -keystore client.keystore.jks","title":"3.2 keytool \u624b\u518c"},{"location":"3-%E5%AE%9E%E8%B7%B5%E6%89%8B%E5%86%8C/3-OpenSSL%20%E5%AE%9E%E8%B7%B5/","text":"OpenSSL \u5b9e\u8df5 \u5229\u7528openssl\u5206\u522b\u751f\u6210\u670d\u52a1\u5668\u548c\u5ba2\u6237\u7aef\u7684\u79c1\u94a5\u548c\u516c\u94a5\uff1a # \u751f\u6210 server \u7aef rsa \u79c1\u94a5 $ openssl genrsa -out server.key 1024 # \u751f\u6210 client \u7aef rsa \u79c1\u94a5 $ openssl genrsa -out client.key 1024 # \u751f\u6210\u79c1\u94a5\u5bf9\u5e94\u7684 rsa \u516c\u94a5 $ openssl rsa -in server.key -pubout -out server.pem $ openssl rsa -in client.key -pubout -out client.pem \u4e3a\u4e86\u907f\u514d\u7b2c\u4e09\u65b9\u653b\u51fb\uff0c\u9700\u8981\u7b2c\u4e09\u65b9 CA(Certificate Authority) \u4e3a\u7ad9\u70b9\u9881\u53d1\u6570\u5b57\u8bc1\u4e66\uff0c\u8fd9\u4e2a\u8bc1\u4e66\u5177\u6709CA\u901a\u8fc7\u81ea\u5df1\u7684\u516c\u94a5\u548c\u79c1\u94a5\u5b9e\u73b0\u7684\u7b7e\u540d\u3002 \u4e3a\u4e86\u5f97\u5230\u7b7e\u540d\uff0c\u670d\u52a1\u5668\u9700\u8981\u901a\u8fc7\u81ea\u5df1\u7684\u79c1\u94a5\u751f\u6210CSR(Certificate Signing Request)\u6587\u4ef6\u3002CA\u5c06\u901a\u8fc7\u8fd9\u4e2a\u6587\u4ef6\u9881\u53d1\u5c5e\u4e8e\u8be5\u670d\u52a1\u5668\u7684\u7b7e\u540d\u8bc1\u4e66\uff0c\u53ea\u8981\u901a\u8fc7CA\u673a\u6784\u5c31\u80fd\u9a8c\u8bc1\u8bc1\u4e66\u662f\u5426\u5408\u6cd5\u3002 \u81ea\u5df1\u626e\u6f14CA\u673a\u6784\uff0c\u7ed9\u81ea\u5df1\u7684\u670d\u52a1\u5668\u9881\u53d1\u8bc1\u4e66\uff1a # \u751f\u6210 CA \u673a\u6784 rsa \u79c1\u94a5 $ openssl genrsa -out ca.key 1024 # \u751f\u6210 CA \u673a\u6784 CSR(Certificate sign request) \u6587\u4ef6 $ openssl req -new -key ca.key -out ca.csr # \u901a\u8fc7\u79c1\u94a5\u5b50\u7b7e\u540d\u751f\u6210\u8bc1\u4e66(CA \u81ea\u7b7e\u540d\u8bc1\u4e66) $ openssl x509 -req -in ca.csr -signkey ca.key -out ca.crt \u751f\u6210\u670d\u52a1\u5668\u7684\u8bc1\u4e66\uff1a # \u751f\u6210 server \u7aef CSR\u6587\u4ef6 $ openssl req -new -key server.key -out server.csr # \u751f\u6210 server \u8bc1\u4e66 $ openssl x509 -req -CA ca.crt -CAkey ca.key -CAcreateserial -in server.csr -out server.crt","title":"OpenSSL \u5b9e\u8df5"},{"location":"3-%E5%AE%9E%E8%B7%B5%E6%89%8B%E5%86%8C/3-OpenSSL%20%E5%AE%9E%E8%B7%B5/#openssl","text":"\u5229\u7528openssl\u5206\u522b\u751f\u6210\u670d\u52a1\u5668\u548c\u5ba2\u6237\u7aef\u7684\u79c1\u94a5\u548c\u516c\u94a5\uff1a # \u751f\u6210 server \u7aef rsa \u79c1\u94a5 $ openssl genrsa -out server.key 1024 # \u751f\u6210 client \u7aef rsa \u79c1\u94a5 $ openssl genrsa -out client.key 1024 # \u751f\u6210\u79c1\u94a5\u5bf9\u5e94\u7684 rsa \u516c\u94a5 $ openssl rsa -in server.key -pubout -out server.pem $ openssl rsa -in client.key -pubout -out client.pem \u4e3a\u4e86\u907f\u514d\u7b2c\u4e09\u65b9\u653b\u51fb\uff0c\u9700\u8981\u7b2c\u4e09\u65b9 CA(Certificate Authority) \u4e3a\u7ad9\u70b9\u9881\u53d1\u6570\u5b57\u8bc1\u4e66\uff0c\u8fd9\u4e2a\u8bc1\u4e66\u5177\u6709CA\u901a\u8fc7\u81ea\u5df1\u7684\u516c\u94a5\u548c\u79c1\u94a5\u5b9e\u73b0\u7684\u7b7e\u540d\u3002 \u4e3a\u4e86\u5f97\u5230\u7b7e\u540d\uff0c\u670d\u52a1\u5668\u9700\u8981\u901a\u8fc7\u81ea\u5df1\u7684\u79c1\u94a5\u751f\u6210CSR(Certificate Signing Request)\u6587\u4ef6\u3002CA\u5c06\u901a\u8fc7\u8fd9\u4e2a\u6587\u4ef6\u9881\u53d1\u5c5e\u4e8e\u8be5\u670d\u52a1\u5668\u7684\u7b7e\u540d\u8bc1\u4e66\uff0c\u53ea\u8981\u901a\u8fc7CA\u673a\u6784\u5c31\u80fd\u9a8c\u8bc1\u8bc1\u4e66\u662f\u5426\u5408\u6cd5\u3002 \u81ea\u5df1\u626e\u6f14CA\u673a\u6784\uff0c\u7ed9\u81ea\u5df1\u7684\u670d\u52a1\u5668\u9881\u53d1\u8bc1\u4e66\uff1a # \u751f\u6210 CA \u673a\u6784 rsa \u79c1\u94a5 $ openssl genrsa -out ca.key 1024 # \u751f\u6210 CA \u673a\u6784 CSR(Certificate sign request) \u6587\u4ef6 $ openssl req -new -key ca.key -out ca.csr # \u901a\u8fc7\u79c1\u94a5\u5b50\u7b7e\u540d\u751f\u6210\u8bc1\u4e66(CA \u81ea\u7b7e\u540d\u8bc1\u4e66) $ openssl x509 -req -in ca.csr -signkey ca.key -out ca.crt \u751f\u6210\u670d\u52a1\u5668\u7684\u8bc1\u4e66\uff1a # \u751f\u6210 server \u7aef CSR\u6587\u4ef6 $ openssl req -new -key server.key -out server.csr # \u751f\u6210 server \u8bc1\u4e66 $ openssl x509 -req -CA ca.crt -CAkey ca.key -CAcreateserial -in server.csr -out server.crt","title":"OpenSSL \u5b9e\u8df5"},{"location":"4-%E5%85%B6%E4%BB%96/","text":"","title":"4. \u5176\u4ed6"},{"location":"4-%E5%85%B6%E4%BB%96/1-%E5%90%8D%E8%AF%8D%E8%A7%A3%E9%87%8A/","text":"\u540d\u8bcd\u89e3\u91ca SSL \u6bd4\u8f83\u590d\u6742\uff0c\u5404\u79cd\u540d\u8bcd\uff0c\u6587\u4ef6\u540e\u7f00\uff0c\u5f88\u51cc\u4e71\uff0c\u5728\u8fd9\u91cc\u6574\u7406\u4e0b CA: certificate authority\uff0c\u9881\u53d1\u8bc1\u4e66\u7684\u673a\u6784 .cer: \u8bc1\u4e66\u6587\u4ef6\u7684\u540e\u7f00 .crt: \u8bc1\u4e66\u6587\u4ef6\u7684\u540e\u7f00 .key: \u516c\u94a5\u3001\u79c1\u94a5 \u6587\u4ef6\u540e\u7f00 .pem\uff1a\u5b83\u662f\u7531RFC1421\u81f31424\u5b9a\u4e49\u7684\u4e00\u79cd\u6570\u636e\u683c\u5f0f\u3002\u5176\u5b9e\u524d\u9762\u7684.cert\u548c.key\u6587\u4ef6\u90fd\u662fPEM\u683c\u5f0f\u7684\uff0c\u53ea\u4e0d\u8fc7\u5728\u6709\u4e9b\u7cfb\u7edf\u4e2d\uff08\u6bd4\u5982Windows\uff09\u4f1a\u6839\u636e\u6269\u5c55\u540d\u4e0d\u540c\u800c\u505a\u4e0d\u540c\u7684\u4e8b\u3002\u6240\u4ee5\u5f53\u4f60\u770b\u5230.pem\u6587\u4ef6\u65f6\uff0c\u5b83\u91cc\u9762\u7684\u5185\u5bb9\u53ef\u80fd\u662fcertificate\u4e5f\u53ef\u80fd\u662fkey\uff0c\u4e5f\u53ef\u80fd\u4e24\u4e2a\u90fd\u6709\uff0c\u8981\u770b\u5177\u4f53\u60c5\u51b5\u3002\u53ef\u4ee5\u901a\u8fc7openssl\u67e5\u770b\u3002 .der: \u7c7b\u4f3c .pem\uff0c.pem \u662f base64 \u7f16\u7801\uff0c.der \u662f\u4e8c\u8fdb\u5236\u7f16\u7801 .jks: java keytool \u5b9e\u73b0\u7684\u8bc1\u4e66\u683c\u5f0f .csr: \u8bc1\u4e66\u8bf7\u6c42 keystore: \u5bc6\u94a5\u4ed3\u5e93\u5b58\u50a8\u8bc1\u4e66\u6587\u4ef6\u3002\u5bc6\u94a5\u4ed3\u5e93\u6587\u4ef6\u5305\u542b\u8bc1\u4e66\u7684\u79c1\u94a5\uff08\u4fdd\u8bc1\u79c1\u94a5\u7684\u5b89\u5168\uff09 truststore: \u4fdd\u5b58\u53ef\u4fe1\u4efb\u8bc1\u4e66","title":"4.1 \u540d\u79f0\u89e3\u91ca"},{"location":"4-%E5%85%B6%E4%BB%96/1-%E5%90%8D%E8%AF%8D%E8%A7%A3%E9%87%8A/#_1","text":"SSL \u6bd4\u8f83\u590d\u6742\uff0c\u5404\u79cd\u540d\u8bcd\uff0c\u6587\u4ef6\u540e\u7f00\uff0c\u5f88\u51cc\u4e71\uff0c\u5728\u8fd9\u91cc\u6574\u7406\u4e0b CA: certificate authority\uff0c\u9881\u53d1\u8bc1\u4e66\u7684\u673a\u6784 .cer: \u8bc1\u4e66\u6587\u4ef6\u7684\u540e\u7f00 .crt: \u8bc1\u4e66\u6587\u4ef6\u7684\u540e\u7f00 .key: \u516c\u94a5\u3001\u79c1\u94a5 \u6587\u4ef6\u540e\u7f00 .pem\uff1a\u5b83\u662f\u7531RFC1421\u81f31424\u5b9a\u4e49\u7684\u4e00\u79cd\u6570\u636e\u683c\u5f0f\u3002\u5176\u5b9e\u524d\u9762\u7684.cert\u548c.key\u6587\u4ef6\u90fd\u662fPEM\u683c\u5f0f\u7684\uff0c\u53ea\u4e0d\u8fc7\u5728\u6709\u4e9b\u7cfb\u7edf\u4e2d\uff08\u6bd4\u5982Windows\uff09\u4f1a\u6839\u636e\u6269\u5c55\u540d\u4e0d\u540c\u800c\u505a\u4e0d\u540c\u7684\u4e8b\u3002\u6240\u4ee5\u5f53\u4f60\u770b\u5230.pem\u6587\u4ef6\u65f6\uff0c\u5b83\u91cc\u9762\u7684\u5185\u5bb9\u53ef\u80fd\u662fcertificate\u4e5f\u53ef\u80fd\u662fkey\uff0c\u4e5f\u53ef\u80fd\u4e24\u4e2a\u90fd\u6709\uff0c\u8981\u770b\u5177\u4f53\u60c5\u51b5\u3002\u53ef\u4ee5\u901a\u8fc7openssl\u67e5\u770b\u3002 .der: \u7c7b\u4f3c .pem\uff0c.pem \u662f base64 \u7f16\u7801\uff0c.der \u662f\u4e8c\u8fdb\u5236\u7f16\u7801 .jks: java keytool \u5b9e\u73b0\u7684\u8bc1\u4e66\u683c\u5f0f .csr: \u8bc1\u4e66\u8bf7\u6c42 keystore: \u5bc6\u94a5\u4ed3\u5e93\u5b58\u50a8\u8bc1\u4e66\u6587\u4ef6\u3002\u5bc6\u94a5\u4ed3\u5e93\u6587\u4ef6\u5305\u542b\u8bc1\u4e66\u7684\u79c1\u94a5\uff08\u4fdd\u8bc1\u79c1\u94a5\u7684\u5b89\u5168\uff09 truststore: \u4fdd\u5b58\u53ef\u4fe1\u4efb\u8bc1\u4e66","title":"\u540d\u8bcd\u89e3\u91ca"},{"location":"4-%E5%85%B6%E4%BB%96/2-RSA%20%E5%8A%A0%E5%AF%86%E7%AE%97%E6%B3%95/","text":"4.2 RSA \u52a0\u5bc6\u7b97\u6cd5 \u975e\u5bf9\u79f0\u52a0\u5bc6\u7cfb\u7edf \u4e3a\u6587\u7ae0\u53d9\u8ff0\u7684\u65b9\u4fbf\uff0c\u7528 \\( P_A \\) \u548c \\( S_A \\) \u5206\u522b\u8868\u793aA\u7684\u516c\u94a5\u4e0e\u79c1\u94a5\uff0c\u7528 \\( P_A() \\) \u548c \\( S_A() \\) \u5206\u522b\u8868\u793aA\u7684\u516c\u94a5\u4e0e\u79c1\u94a5\u7684\u51fd\u6570\u3002 \u975e\u5bf9\u79f0\u52a0\u5bc6 Ciphertext = pa(Message) Message = sa(Ciphertext) \u6570\u5b57\u7b7e\u540d Signature = Sign(Message, sk) Verify(Message, Signature, pk) = True/False \u5173\u4e8e\u975e\u5bf9\u79f0\u52a0\u5bc6\u7684\u5de5\u4f5c\u65b9\u5f0f\u53ef\u4ee5\u770b\u4e4b\u524d\u7684\u6587\u7ae0\u4e2d\u6709\u5173 \u975e\u5bf9\u79f0\u52a0\u5bc6 \u7684\u90e8\u5206\uff0c\u8fd9\u91cc\u4e0d\u5728\u5bf9\u6b64\u7cfb\u7edf\u7684\u5de5\u4f5c\u65b9\u5f0f\u505a\u4ecb\u7ecd\u3002 RSA\u7b97\u6cd5 RSA \u516c\u94a5\u52a0\u5bc6\u7cfb\u7edf\u4e3b\u8981\u57fa\u4e8e\u4ee5\u4e0b\u4e8b\u5b9e\uff1a\u5bfb\u627e\u5927\u7d20\u6570\u662f\u5f88\u5bb9\u6613\u7684\uff0c\u4f46\u8981\u628a\u4e00\u4e2a\u6570\u5206\u89e3\u4e3a\u4e24\u4e2a\u5927\u7d20\u6570\u7684\u79ef\u5374\u76f8\u5f53\u56f0\u96be\u3002 \u5728 RSA \u52a0\u5bc6\u7cfb\u7edf\u4e2d\uff0c\u53c2\u4e0e\u8005\u6309\u4e0b\u5217\u8fc7\u7a0b\u521b\u5efa\u4ed6\u7684\u516c\u94a5\u548c\u79c1\u94a5\uff1a \u627e\u4e24\u4e2a\u5f88\u5927\u7684\u7d20\u6570 \\( P \\) \u548c \\( Q \\) \uff0c\u4f7f\u5f97 P \u2260 Q\uff0c\u8d8a\u5927\u8d8a\u597d\uff0c\u6bd4\u5982 100 \u4f4d\u957f\u7684\uff0c\u7136\u540e\u8ba1\u7b97\uff1a \\[ N = P \\times Q \\] \\[ M = (P-1) \\times (Q-1) \\] \u627e\u5230\u4e00\u4e2a\u548c \\( M \\) \u4e92\u7d20\u7684\u5c0f\u5947\u6570 \\( E \\) \u627e\u4e00\u4e2a\u6574\u6570 \\( D \\) \uff0c\u4f7f\u5f97 \\( E \\times D \\pmod M = 1 \\) \u6b64\u65f6 \\( E, N \\) \u662f\u516c\u94a5\uff0c \\( D, N \\) \u662f\u79c1\u94a5\uff0c\u73b0\u5728\u5bf9 \\( X \\) \u52a0\u5bc6\uff0c\u5f97\u5230\u5bc6\u7801 \\( Y \\) \\[ X^E \\pmod N = Y \\] \u5982\u679c\u4e0d\u77e5\u9053 \\( D, N \\) \uff0c\u5f88\u96be\u4ece \\( Y \\) \u6062\u590d \\( X \\) \uff0c\u4f46\u5982\u679c\u6709 \\( D, N \\) \uff0c\u6839\u636e \u8d39\u5c14\u9a6c\u5c0f\u5b9a\u7406 \uff0c\u5219\u53ea\u8981\u6309\u4e0b\u9762\u7684\u516c\u5f0f\u5c31\u53ef\u4ee5\u8f7b\u800c\u6613\u4e3e\u5730\u4ece \\( Y \\) \u5f97\u5230 \\( X \\) \u3002 \\[ Y^D \\pmod N = X \\] \u8d39\u5c14\u9a6c\u5c0f\u5b9a\u7406\uff1a \\( P \\) \u662f\u4e00\u4e2a\u8d28\u6570\uff0c\u5bf9\u4e8e\u4efb\u4f55\u6574\u6570 \\( M \\) \uff0c\u5982\u679c \\( N \\) \u3001 \\( P \\) \u4e92\u7d20\uff0c\u90a3\u4e48 \\( N^{P-1} \\equiv 1 \\pmod P \\) \u3002 \\( P \\) \u662f\u4e00\u4e2a\u8d28\u6570\uff0c\u5bf9\u4e8e\u4efb\u4f55\u6574\u6570 \\( N^P \\equiv N \\pmod P \\) \u3002","title":"4.2 RSA \u52a0\u5bc6\u7b97\u6cd5"},{"location":"4-%E5%85%B6%E4%BB%96/2-RSA%20%E5%8A%A0%E5%AF%86%E7%AE%97%E6%B3%95/#42-rsa","text":"","title":"4.2 RSA \u52a0\u5bc6\u7b97\u6cd5"},{"location":"4-%E5%85%B6%E4%BB%96/2-RSA%20%E5%8A%A0%E5%AF%86%E7%AE%97%E6%B3%95/#_1","text":"\u4e3a\u6587\u7ae0\u53d9\u8ff0\u7684\u65b9\u4fbf\uff0c\u7528 \\( P_A \\) \u548c \\( S_A \\) \u5206\u522b\u8868\u793aA\u7684\u516c\u94a5\u4e0e\u79c1\u94a5\uff0c\u7528 \\( P_A() \\) \u548c \\( S_A() \\) \u5206\u522b\u8868\u793aA\u7684\u516c\u94a5\u4e0e\u79c1\u94a5\u7684\u51fd\u6570\u3002","title":"\u975e\u5bf9\u79f0\u52a0\u5bc6\u7cfb\u7edf"},{"location":"4-%E5%85%B6%E4%BB%96/2-RSA%20%E5%8A%A0%E5%AF%86%E7%AE%97%E6%B3%95/#_2","text":"Ciphertext = pa(Message) Message = sa(Ciphertext)","title":"\u975e\u5bf9\u79f0\u52a0\u5bc6"},{"location":"4-%E5%85%B6%E4%BB%96/2-RSA%20%E5%8A%A0%E5%AF%86%E7%AE%97%E6%B3%95/#_3","text":"Signature = Sign(Message, sk) Verify(Message, Signature, pk) = True/False \u5173\u4e8e\u975e\u5bf9\u79f0\u52a0\u5bc6\u7684\u5de5\u4f5c\u65b9\u5f0f\u53ef\u4ee5\u770b\u4e4b\u524d\u7684\u6587\u7ae0\u4e2d\u6709\u5173 \u975e\u5bf9\u79f0\u52a0\u5bc6 \u7684\u90e8\u5206\uff0c\u8fd9\u91cc\u4e0d\u5728\u5bf9\u6b64\u7cfb\u7edf\u7684\u5de5\u4f5c\u65b9\u5f0f\u505a\u4ecb\u7ecd\u3002","title":"\u6570\u5b57\u7b7e\u540d"},{"location":"4-%E5%85%B6%E4%BB%96/2-RSA%20%E5%8A%A0%E5%AF%86%E7%AE%97%E6%B3%95/#rsa","text":"RSA \u516c\u94a5\u52a0\u5bc6\u7cfb\u7edf\u4e3b\u8981\u57fa\u4e8e\u4ee5\u4e0b\u4e8b\u5b9e\uff1a\u5bfb\u627e\u5927\u7d20\u6570\u662f\u5f88\u5bb9\u6613\u7684\uff0c\u4f46\u8981\u628a\u4e00\u4e2a\u6570\u5206\u89e3\u4e3a\u4e24\u4e2a\u5927\u7d20\u6570\u7684\u79ef\u5374\u76f8\u5f53\u56f0\u96be\u3002 \u5728 RSA \u52a0\u5bc6\u7cfb\u7edf\u4e2d\uff0c\u53c2\u4e0e\u8005\u6309\u4e0b\u5217\u8fc7\u7a0b\u521b\u5efa\u4ed6\u7684\u516c\u94a5\u548c\u79c1\u94a5\uff1a \u627e\u4e24\u4e2a\u5f88\u5927\u7684\u7d20\u6570 \\( P \\) \u548c \\( Q \\) \uff0c\u4f7f\u5f97 P \u2260 Q\uff0c\u8d8a\u5927\u8d8a\u597d\uff0c\u6bd4\u5982 100 \u4f4d\u957f\u7684\uff0c\u7136\u540e\u8ba1\u7b97\uff1a \\[ N = P \\times Q \\] \\[ M = (P-1) \\times (Q-1) \\] \u627e\u5230\u4e00\u4e2a\u548c \\( M \\) \u4e92\u7d20\u7684\u5c0f\u5947\u6570 \\( E \\) \u627e\u4e00\u4e2a\u6574\u6570 \\( D \\) \uff0c\u4f7f\u5f97 \\( E \\times D \\pmod M = 1 \\) \u6b64\u65f6 \\( E, N \\) \u662f\u516c\u94a5\uff0c \\( D, N \\) \u662f\u79c1\u94a5\uff0c\u73b0\u5728\u5bf9 \\( X \\) \u52a0\u5bc6\uff0c\u5f97\u5230\u5bc6\u7801 \\( Y \\) \\[ X^E \\pmod N = Y \\] \u5982\u679c\u4e0d\u77e5\u9053 \\( D, N \\) \uff0c\u5f88\u96be\u4ece \\( Y \\) \u6062\u590d \\( X \\) \uff0c\u4f46\u5982\u679c\u6709 \\( D, N \\) \uff0c\u6839\u636e \u8d39\u5c14\u9a6c\u5c0f\u5b9a\u7406 \uff0c\u5219\u53ea\u8981\u6309\u4e0b\u9762\u7684\u516c\u5f0f\u5c31\u53ef\u4ee5\u8f7b\u800c\u6613\u4e3e\u5730\u4ece \\( Y \\) \u5f97\u5230 \\( X \\) \u3002 \\[ Y^D \\pmod N = X \\] \u8d39\u5c14\u9a6c\u5c0f\u5b9a\u7406\uff1a \\( P \\) \u662f\u4e00\u4e2a\u8d28\u6570\uff0c\u5bf9\u4e8e\u4efb\u4f55\u6574\u6570 \\( M \\) \uff0c\u5982\u679c \\( N \\) \u3001 \\( P \\) \u4e92\u7d20\uff0c\u90a3\u4e48 \\( N^{P-1} \\equiv 1 \\pmod P \\) \u3002 \\( P \\) \u662f\u4e00\u4e2a\u8d28\u6570\uff0c\u5bf9\u4e8e\u4efb\u4f55\u6574\u6570 \\( N^P \\equiv N \\pmod P \\) \u3002","title":"RSA\u7b97\u6cd5"}]}